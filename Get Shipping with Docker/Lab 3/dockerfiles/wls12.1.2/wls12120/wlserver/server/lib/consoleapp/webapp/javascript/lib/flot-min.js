(function(){jQuery.color={};jQuery.color.make=function(c,d,f,e){var b={};b.r=c||0;b.g=d||0;b.b=f||0;b.a=e!=null?e:1;b.add=function(g,h){for(var j=0;j<g.length;++j){b[g.charAt(j)]+=h}return b.normalize()};b.scale=function(g,h){for(var j=0;j<g.length;++j){b[g.charAt(j)]*=h}return b.normalize()};b.toString=function(){if(b.a>=1){return"rgb("+[b.r,b.g,b.b].join(",")+")"}else{return"rgba("+[b.r,b.g,b.b,b.a].join(",")+")"}};b.normalize=function(){function g(j,h,k){return h<j?j:(h>k?k:h)}b.r=g(0,parseInt(b.r),255);b.g=g(0,parseInt(b.g),255);b.b=g(0,parseInt(b.b),255);b.a=g(0,b.a,1);return b};b.clone=function(){return jQuery.color.make(b.r,b.b,b.g,b.a)};return b.normalize()};jQuery.color.extract=function(c,d){var b;do{b=c.css(d).toLowerCase();if(b!=""&&b!="transparent"){break}c=c.parent()}while(!jQuery.nodeName(c.get(0),"body"));if(b=="rgba(0, 0, 0, 0)"){b="transparent"}return jQuery.color.parse(b)};jQuery.color.parse=function(b){var c,e=jQuery.color.make;if(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b)){return e(parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10))}if(c=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(b)){return e(parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10),parseFloat(c[4]))}if(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b)){return e(parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55)}if(c=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(b)){return e(parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55,parseFloat(c[4]))}if(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b)){return e(parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16))}if(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b)){return e(parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16))}var d=jQuery.trim(b).toLowerCase();if(d=="transparent"){return e(255,255,255,0)}else{c=a[d];return e(c[0],c[1],c[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();(function(c){function b(L,x,y,e){var p=[],H={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{mode:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02},x2axis:{autoscaleMargin:null},y2axis:{autoscaleMargin:0.02},series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,tickColor:"rgba(0,0,0,0.15)",labelMargin:5,borderWidth:2,borderColor:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},hooks:{}},q=null,ac=null,ad=null,z=null,aj=null,S={xaxis:{},yaxis:{},x2axis:{},y2axis:{}},F={left:0,right:0,top:0,bottom:0},Y=0,r=0,j=0,T=0,m={processOptions:[],processRawData:[],processDatapoints:[],draw:[],bindEvents:[],drawOverlay:[]},g=this;g.setData=G;g.setupGrid=K;g.draw=ah;g.getPlaceholder=function(){return L};g.getCanvas=function(){return q};g.getPlotOffset=function(){return F};g.width=function(){return j};g.height=function(){return T};g.offset=function(){var ak=ad.offset();ak.left+=F.left;ak.top+=F.top;return ak};g.getData=function(){return p};g.getAxes=function(){return S};g.getOptions=function(){return H};g.highlight=ae;g.unhighlight=X;g.triggerRedrawOverlay=Q;g.pointOffset=function(ak){return{left:parseInt(u(ak,"xaxis").p2c(+ak.x)+F.left),top:parseInt(u(ak,"yaxis").p2c(+ak.y)+F.top)}};g.hooks=m;C(g);R(y);D();G(x);K();ah();ag();function A(am,ak){ak=[g].concat(ak);for(var al=0;al<am.length;++al){am[al].apply(this,ak)}}function C(){for(var ak=0;ak<e.length;++ak){var al=e[ak];al.init(g);if(al.options){c.extend(true,H,al.options)}}}function R(ak){c.extend(true,H,ak);if(H.grid.borderColor==null){H.grid.borderColor=H.grid.color}if(H.xaxis.noTicks&&H.xaxis.ticks==null){H.xaxis.ticks=H.xaxis.noTicks}if(H.yaxis.noTicks&&H.yaxis.ticks==null){H.yaxis.ticks=H.yaxis.noTicks}if(H.grid.coloredAreas){H.grid.markings=H.grid.coloredAreas}if(H.grid.coloredAreasColor){H.grid.markingsColor=H.grid.coloredAreasColor}if(H.lines){c.extend(true,H.series.lines,H.lines)}if(H.points){c.extend(true,H.series.points,H.points)}if(H.bars){c.extend(true,H.series.bars,H.bars)}if(H.shadowSize){H.series.shadowSize=H.shadowSize}for(var al in m){if(H.hooks[al]&&H.hooks[al].length){m[al]=m[al].concat(H.hooks[al])}}A(m.processOptions,[H])}function G(ak){p=n(ak);v();M()}function n(an){var al=[];for(var ak=0;ak<an.length;++ak){var am=c.extend(true,{},H.series);if(an[ak].data){am.data=an[ak].data;delete an[ak].data;c.extend(true,am,an[ak]);an[ak].data=am.data}else{am.data=an[ak]}al.push(am)}return al}function u(am,ak){var al=am[ak];if(!al||al==1){return S[ak]}if(typeof al=="number"){return S[ak.charAt(0)+al+ak.slice(1)]}return al}function v(){var ap;var aw=p.length,ak=[],an=[];for(ap=0;ap<p.length;++ap){var at=p[ap].color;if(at!=null){--aw;if(typeof at=="number"){an.push(at)}else{ak.push(c.color.parse(p[ap].color))}}}for(ap=0;ap<an.length;++ap){aw=Math.max(aw,an[ap]+1)}var al=[],ao=0;ap=0;while(al.length<aw){var ar;if(H.colors.length==ap){ar=c.color.make(100,100,100)}else{ar=c.color.parse(H.colors[ap])}var am=ao%2==1?-1:1;ar.scale("rgb",1+am*Math.ceil(ao/2)*0.2);al.push(ar);++ap;if(ap>=H.colors.length){ap=0;++ao}}var aq=0,ax;for(ap=0;ap<p.length;++ap){ax=p[ap];if(ax.color==null){ax.color=al[aq].toString();++aq}else{if(typeof ax.color=="number"){ax.color=al[ax.color].toString()}}if(ax.lines.show==null){var av,au=true;for(av in ax){if(ax[av].show){au=false;break}}if(au){ax.lines.show=true}}ax.xaxis=u(ax,"xaxis");ax.yaxis=u(ax,"yaxis")}}function M(){var ax=Number.POSITIVE_INFINITY,aq=Number.NEGATIVE_INFINITY,aD,aB,aA,aw,al,ar,aC,ay,ap,ao,ak,aJ,aG,au;for(ak in S){S[ak].datamin=ax;S[ak].datamax=aq;S[ak].used=false}function an(aM,aL,aK){if(aL<aM.datamin){aM.datamin=aL}if(aK>aM.datamax){aM.datamax=aK}}for(aD=0;aD<p.length;++aD){ar=p[aD];ar.datapoints={points:[]};A(m.processRawData,[ar,ar.data,ar.datapoints])}for(aD=0;aD<p.length;++aD){ar=p[aD];var aI=ar.data,aF=ar.datapoints.format;if(!aF){aF=[];aF.push({x:true,number:true,required:true});aF.push({y:true,number:true,required:true});if(ar.bars.show){aF.push({y:true,number:true,required:false,defaultValue:0})}ar.datapoints.format=aF}if(ar.datapoints.pointsize!=null){continue}if(ar.datapoints.pointsize==null){ar.datapoints.pointsize=aF.length}ay=ar.datapoints.pointsize;aC=ar.datapoints.points;insertSteps=ar.lines.show&&ar.lines.steps;ar.xaxis.used=ar.yaxis.used=true;for(aB=aA=0;aB<aI.length;++aB,aA+=ay){au=aI[aB];var am=au==null;if(!am){for(aw=0;aw<ay;++aw){aJ=au[aw];aG=aF[aw];if(aG){if(aG.number&&aJ!=null){aJ=+aJ;if(isNaN(aJ)){aJ=null}}if(aJ==null){if(aG.required){am=true}if(aG.defaultValue!=null){aJ=aG.defaultValue}}}aC[aA+aw]=aJ}}if(am){for(aw=0;aw<ay;++aw){aJ=aC[aA+aw];if(aJ!=null){aG=aF[aw];if(aG.x){an(ar.xaxis,aJ,aJ)}if(aG.y){an(ar.yaxis,aJ,aJ)}}aC[aA+aw]=null}}else{if(insertSteps&&aA>0&&aC[aA-ay]!=null&&aC[aA-ay]!=aC[aA]&&aC[aA-ay+1]!=aC[aA+1]){for(aw=0;aw<ay;++aw){aC[aA+ay+aw]=aC[aA+aw]}aC[aA+1]=aC[aA-ay+1];aA+=ay}}}}for(aD=0;aD<p.length;++aD){ar=p[aD];A(m.processDatapoints,[ar,ar.datapoints])}for(aD=0;aD<p.length;++aD){ar=p[aD];aC=ar.datapoints.points,ay=ar.datapoints.pointsize;var at=ax,az=ax,av=aq,aE=aq;for(aB=0;aB<aC.length;aB+=ay){if(aC[aB]==null){continue}for(aw=0;aw<ay;++aw){aJ=aC[aB+aw];aG=aF[aw];if(!aG){continue}if(aG.x){if(aJ<at){at=aJ}if(aJ>av){av=aJ}}if(aG.y){if(aJ<az){az=aJ}if(aJ>aE){aE=aJ}}}}if(ar.bars.show){var aH=ar.bars.align=="left"?0:-ar.bars.barWidth/2;if(ar.bars.horizontal){az+=aH;aE+=aH+ar.bars.barWidth}else{at+=aH;av+=aH+ar.bars.barWidth}}an(ar.xaxis,at,av);an(ar.yaxis,az,aE)}for(ak in S){if(S[ak].datamin==ax){S[ak].datamin=null}if(S[ak].datamax==aq){S[ak].datamax=null}}}function D(){function ak(am,al){var an=document.createElement("canvas");an.width=am;an.height=al;if(c.browser.msie){an=window.G_vmlCanvasManager.initElement(an)}return an}Y=L.width();r=L.height();L.find("canvas").each(function(){c.event.remove(this);c.removeData(this)});L.get(0).innerHTML="";if(L.css("position")=="static"){L.css("position","relative")}if(Y<=0||r<=0){throw"Invalid dimensions for plot, width = "+Y+", height = "+r}if(c.browser.msie){window.G_vmlCanvasManager.init_(document)}q=c(ak(Y,r)).appendTo(L).get(0);z=q.getContext("2d");ac=c(ak(Y,r)).css({position:"absolute",left:0,top:0}).appendTo(L).get(0);aj=ac.getContext("2d");aj.stroke()}function ag(){ad=c([ac,q]);if(H.grid.hoverable){ad.mousemove(d)}if(H.grid.clickable){ad.click(E)}A(m.bindEvents,[ad])}function K(){function al(au,av){function ap(aw){return aw}var at,ao,aq=av.transform||ap,ar=av.inverseTransform;if(au==S.xaxis||au==S.x2axis){at=au.scale=j/(aq(au.max)-aq(au.min));ao=aq(au.min);if(aq==ap){au.p2c=function(aw){return(aw-ao)*at}}else{au.p2c=function(aw){return(aq(aw)-ao)*at}}if(!ar){au.c2p=function(aw){return ao+aw/at}}else{au.c2p=function(aw){return ar(ao+aw/at)}}}else{at=au.scale=T/(aq(au.max)-aq(au.min));ao=aq(au.max);if(aq==ap){au.p2c=function(aw){return(ao-aw)*at}}else{au.p2c=function(aw){return(ao-aq(aw))*at}}if(!ar){au.c2p=function(aw){return ao-aw/at}}else{au.c2p=function(aw){return ar(ao-aw/at)}}}}function an(ar,au){var aq,at=[],ap;ar.labelWidth=au.labelWidth;ar.labelHeight=au.labelHeight;if(ar==S.xaxis||ar==S.x2axis){if(ar.labelWidth==null){ar.labelWidth=Y/(ar.ticks.length>0?ar.ticks.length:1)}if(ar.labelHeight==null){at=[];for(aq=0;aq<ar.ticks.length;++aq){ap=ar.ticks[aq].label;if(ap){at.push('<div class="tickLabel" style="float:left;width:'+ar.labelWidth+'px">'+ap+"</div>")}}if(at.length>0){var ao=c('<div style="position:absolute;top:-10000px;width:10000px;font-size:smaller">'+at.join("")+'<div style="clear:left"></div></div>').appendTo(L);ar.labelHeight=ao.height();ao.remove()}}}else{if(ar.labelWidth==null||ar.labelHeight==null){for(aq=0;aq<ar.ticks.length;++aq){ap=ar.ticks[aq].label;if(ap){at.push('<div class="tickLabel">'+ap+"</div>")}}if(at.length>0){var ao=c('<div style="position:absolute;top:-10000px;font-size:smaller">'+at.join("")+"</div>").appendTo(L);if(ar.labelWidth==null){ar.labelWidth=ao.width()}if(ar.labelHeight==null){ar.labelHeight=ao.find("div").height()}ao.remove()}}}if(ar.labelWidth==null){ar.labelWidth=0}if(ar.labelHeight==null){ar.labelHeight=0}}function am(){var ap=H.grid.borderWidth;for(i=0;i<p.length;++i){ap=Math.max(ap,2*(p[i].points.radius+p[i].points.lineWidth/2))}F.left=F.right=F.top=F.bottom=ap;var ao=H.grid.labelMargin+H.grid.borderWidth;if(S.xaxis.labelHeight>0){F.bottom=Math.max(ap,S.xaxis.labelHeight+ao)}if(S.yaxis.labelWidth>0){F.left=Math.max(ap,S.yaxis.labelWidth+ao)}if(S.x2axis.labelHeight>0){F.top=Math.max(ap,S.x2axis.labelHeight+ao)}if(S.y2axis.labelWidth>0){F.right=Math.max(ap,S.y2axis.labelWidth+ao)}j=Y-F.left-F.right;T=r-F.bottom-F.top}var ak;for(ak in S){l(S[ak],H[ak])}if(H.grid.show){for(ak in S){f(S[ak],H[ak]);P(S[ak],H[ak]);an(S[ak],H[ak])}am()}else{F.left=F.right=F.top=F.bottom=0;j=Y;T=r}for(ak in S){al(S[ak],H[ak])}if(H.grid.show){I()}ai()}function l(an,aq){var am=+(aq.min!=null?aq.min:an.datamin),ak=+(aq.max!=null?aq.max:an.datamax),ap=ak-am;if(ap==0){var al=ak==0?1:0.01;if(aq.min==null){am-=al}if(aq.max==null||aq.min!=null){ak+=al}}else{var ao=aq.autoscaleMargin;if(ao!=null){if(aq.min==null){am-=ap*ao;if(am<0&&an.datamin!=null&&an.datamin>=0){am=0}}if(aq.max==null){ak+=ap*ao;if(ak>0&&an.datamax!=null&&an.datamax<=0){ak=0}}}}an.min=am;an.max=ak}function f(ap,at){var ao;if(typeof at.ticks=="number"&&at.ticks>0){ao=at.ticks}else{if(ap==S.xaxis||ap==S.x2axis){ao=0.3*Math.sqrt(Y)}else{ao=0.3*Math.sqrt(r)}}var ay=(ap.max-ap.min)/ao,aA,au,aw,ax,ar,am,al;if(at.mode=="time"){var av={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,year:365.2425*24*60*60*1000};var az=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var an=0;if(at.minTickSize!=null){if(typeof at.tickSize=="number"){an=at.tickSize}else{an=at.minTickSize[0]*av[at.minTickSize[1]]}}for(ar=0;ar<az.length-1;++ar){if(ay<(az[ar][0]*av[az[ar][1]]+az[ar+1][0]*av[az[ar+1][1]])/2&&az[ar][0]*av[az[ar][1]]>=an){break}}aA=az[ar][0];aw=az[ar][1];if(aw=="year"){am=Math.pow(10,Math.floor(Math.log(ay/av.year)/Math.LN10));al=(ay/av.year)/am;if(al<1.5){aA=1}else{if(al<3){aA=2}else{if(al<7.5){aA=5}else{aA=10}}}aA*=am}if(at.tickSize){aA=at.tickSize[0];aw=at.tickSize[1]}au=function(aD){var aI=[],aG=aD.tickSize[0],aJ=aD.tickSize[1],aH=new Date(aD.min);var aC=aG*av[aJ];if(aJ=="second"){aH.setUTCSeconds(a(aH.getUTCSeconds(),aG))}if(aJ=="minute"){aH.setUTCMinutes(a(aH.getUTCMinutes(),aG))}if(aJ=="hour"){aH.setUTCHours(a(aH.getUTCHours(),aG))}if(aJ=="month"){aH.setUTCMonth(a(aH.getUTCMonth(),aG))}if(aJ=="year"){aH.setUTCFullYear(a(aH.getUTCFullYear(),aG))}aH.setUTCMilliseconds(0);if(aC>=av.minute){aH.setUTCSeconds(0)}if(aC>=av.hour){aH.setUTCMinutes(0)}if(aC>=av.day){aH.setUTCHours(0)}if(aC>=av.day*4){aH.setUTCDate(1)}if(aC>=av.year){aH.setUTCMonth(0)}var aL=0,aK=Number.NaN,aE;do{aE=aK;aK=aH.getTime();aI.push({v:aK,label:aD.tickFormatter(aK,aD)});if(aJ=="month"){if(aG<1){aH.setUTCDate(1);var aB=aH.getTime();aH.setUTCMonth(aH.getUTCMonth()+1);var aF=aH.getTime();aH.setTime(aK+aL*av.hour+(aF-aB)*aG);aL=aH.getUTCHours();aH.setUTCHours(0)}else{aH.setUTCMonth(aH.getUTCMonth()+aG)}}else{if(aJ=="year"){aH.setUTCFullYear(aH.getUTCFullYear()+aG)}else{aH.setTime(aK+aC)}}}while(aK<aD.max&&aK!=aE);return aI};ax=function(aB,aE){var aG=new Date(aB);if(at.timeformat!=null){return c.plot.formatDate(aG,at.timeformat,at.monthNames)}var aC=aE.tickSize[0]*av[aE.tickSize[1]];var aD=aE.max-aE.min;var aF=(at.twelveHourClock)?" %p":"";if(aC<av.minute){fmt="%h:%M:%S"+aF}else{if(aC<av.day){if(aD<2*av.day){fmt="%h:%M"+aF}else{fmt="%b %d %h:%M"+aF}}else{if(aC<av.month){fmt="%b %d"}else{if(aC<av.year){if(aD<av.year){fmt="%b"}else{fmt="%b %y"}}else{fmt="%y"}}}}return c.plot.formatDate(aG,fmt,at.monthNames)}}else{var ak=at.tickDecimals;var aq=-Math.floor(Math.log(ay)/Math.LN10);if(ak!=null&&aq>ak){aq=ak}am=Math.pow(10,-aq);al=ay/am;if(al<1.5){aA=1}else{if(al<3){aA=2;if(al>2.25&&(ak==null||aq+1<=ak)){aA=2.5;++aq}}else{if(al<7.5){aA=5}else{aA=10}}}aA*=am;if(at.minTickSize!=null&&aA<at.minTickSize){aA=at.minTickSize}if(at.tickSize!=null){aA=at.tickSize}ap.tickDecimals=Math.max(0,(ak!=null)?ak:aq);au=function(aD){var aF=[];var aG=a(aD.min,aD.tickSize),aC=0,aB=Number.NaN,aE;do{aE=aB;aB=aG+aC*aD.tickSize;aF.push({v:aB,label:aD.tickFormatter(aB,aD)});++aC}while(aB<aD.max&&aB!=aE);return aF};ax=function(aB,aC){return aB.toFixed(aC.tickDecimals)}}ap.tickSize=aw?[aA,aw]:aA;ap.tickGenerator=au;if(c.isFunction(at.tickFormatter)){ap.tickFormatter=function(aB,aC){return""+at.tickFormatter(aB,aC)}}else{ap.tickFormatter=ax}}function P(ao,aq){ao.ticks=[];if(!ao.used){return}if(aq.ticks==null){ao.ticks=ao.tickGenerator(ao)}else{if(typeof aq.ticks=="number"){if(aq.ticks>0){ao.ticks=ao.tickGenerator(ao)}}else{if(aq.ticks){var ap=aq.ticks;if(c.isFunction(ap)){ap=ap({min:ao.min,max:ao.max})}var an,ak;for(an=0;an<ap.length;++an){var al=null;var am=ap[an];if(typeof am=="object"){ak=am[0];if(am.length>1){al=am[1]}}else{ak=am}if(al==null){al=ao.tickFormatter(ak,ao)}ao.ticks[an]={v:ak,label:al}}}}}if(aq.autoscaleMargin!=null&&ao.ticks.length>0){if(aq.min==null){ao.min=Math.min(ao.min,ao.ticks[0].v)}if(aq.max==null&&ao.ticks.length>1){ao.max=Math.max(ao.max,ao.ticks[ao.ticks.length-1].v)}}}function ah(){z.clearRect(0,0,Y,r);var al=H.grid;if(al.show&&!al.aboveData){t()}for(var ak=0;ak<p.length;++ak){aa(p[ak])}A(m.draw,[z]);if(al.show&&al.aboveData){t()}}function o(al,ar){var ao=ar+"axis",ak=ar+"2axis",an,aq,ap,am;if(al[ao]){an=S[ao];aq=al[ao].from;ap=al[ao].to}else{if(al[ak]){an=S[ak];aq=al[ak].from;ap=al[ak].to}else{an=S[ao];aq=al[ar+"1"];ap=al[ar+"2"]}}if(aq!=null&&ap!=null&&aq>ap){return{from:ap,to:aq,axis:an}}return{from:aq,to:ap,axis:an}}function t(){var ao;z.save();z.translate(F.left,F.top);if(H.grid.backgroundColor){z.fillStyle=s(H.grid.backgroundColor,T,0,"rgba(255, 255, 255, 0)");z.fillRect(0,0,j,T)}var al=H.grid.markings;if(al){if(c.isFunction(al)){al=al({xmin:S.xaxis.min,xmax:S.xaxis.max,ymin:S.yaxis.min,ymax:S.yaxis.max,xaxis:S.xaxis,yaxis:S.yaxis,x2axis:S.x2axis,y2axis:S.y2axis})}for(ao=0;ao<al.length;++ao){var ak=al[ao],aq=o(ak,"x"),an=o(ak,"y");if(aq.from==null){aq.from=aq.axis.min}if(aq.to==null){aq.to=aq.axis.max}if(an.from==null){an.from=an.axis.min}if(an.to==null){an.to=an.axis.max}if(aq.to<aq.axis.min||aq.from>aq.axis.max||an.to<an.axis.min||an.from>an.axis.max){continue}aq.from=Math.max(aq.from,aq.axis.min);aq.to=Math.min(aq.to,aq.axis.max);an.from=Math.max(an.from,an.axis.min);an.to=Math.min(an.to,an.axis.max);if(aq.from==aq.to&&an.from==an.to){continue}aq.from=aq.axis.p2c(aq.from);aq.to=aq.axis.p2c(aq.to);an.from=an.axis.p2c(an.from);an.to=an.axis.p2c(an.to);if(aq.from==aq.to||an.from==an.to){z.beginPath();z.strokeStyle=ak.color||H.grid.markingsColor;z.lineWidth=ak.lineWidth||H.grid.markingsLineWidth;z.moveTo(aq.from,an.from);z.lineTo(aq.to,an.to);z.stroke()}else{z.fillStyle=ak.color||H.grid.markingsColor;z.fillRect(aq.from,an.to,aq.to-aq.from,an.from-an.to)}}}z.lineWidth=1;z.strokeStyle=H.grid.tickColor;z.beginPath();var am,ap=S.xaxis;for(ao=0;ao<ap.ticks.length;++ao){am=ap.ticks[ao].v;if(am<=ap.min||am>=S.xaxis.max){continue}z.moveTo(Math.floor(ap.p2c(am))+z.lineWidth/2,0);z.lineTo(Math.floor(ap.p2c(am))+z.lineWidth/2,T)}ap=S.yaxis;for(ao=0;ao<ap.ticks.length;++ao){am=ap.ticks[ao].v;if(am<=ap.min||am>=ap.max){continue}z.moveTo(0,Math.floor(ap.p2c(am))+z.lineWidth/2);z.lineTo(j,Math.floor(ap.p2c(am))+z.lineWidth/2)}ap=S.x2axis;for(ao=0;ao<ap.ticks.length;++ao){am=ap.ticks[ao].v;if(am<=ap.min||am>=ap.max){continue}z.moveTo(Math.floor(ap.p2c(am))+z.lineWidth/2,-5);z.lineTo(Math.floor(ap.p2c(am))+z.lineWidth/2,5)}ap=S.y2axis;for(ao=0;ao<ap.ticks.length;++ao){am=ap.ticks[ao].v;if(am<=ap.min||am>=ap.max){continue}z.moveTo(j-5,Math.floor(ap.p2c(am))+z.lineWidth/2);z.lineTo(j+5,Math.floor(ap.p2c(am))+z.lineWidth/2)}z.stroke();if(H.grid.borderWidth){var ar=H.grid.borderWidth;z.lineWidth=ar;z.strokeStyle=H.grid.borderColor;z.strokeRect(-ar/2,-ar/2,j+ar,T+ar)}z.restore()}function I(){L.find(".tickLabels").remove();var ak=['<div class="tickLabels" style="font-size:smaller;color:'+H.grid.color+'">'];function am(ap,aq){for(var ao=0;ao<ap.ticks.length;++ao){var an=ap.ticks[ao];if(!an.label||an.v<ap.min||an.v>ap.max){continue}ak.push(aq(an,ap))}}var al=H.grid.labelMargin+H.grid.borderWidth;am(S.xaxis,function(an,ao){return'<div style="position:absolute;top:'+(F.top+T+al)+"px;left:"+Math.round(F.left+ao.p2c(an.v)-ao.labelWidth/2)+"px;width:"+ao.labelWidth+'px;text-align:center" class="tickLabel">'+an.label+"</div>"});am(S.yaxis,function(an,ao){return'<div style="position:absolute;top:'+Math.round(F.top+ao.p2c(an.v)-ao.labelHeight/2)+"px;right:"+(F.right+j+al)+"px;width:"+ao.labelWidth+'px;text-align:right" class="tickLabel">'+an.label+"</div>"});am(S.x2axis,function(an,ao){return'<div style="position:absolute;bottom:'+(F.bottom+T+al)+"px;left:"+Math.round(F.left+ao.p2c(an.v)-ao.labelWidth/2)+"px;width:"+ao.labelWidth+'px;text-align:center" class="tickLabel">'+an.label+"</div>"});am(S.y2axis,function(an,ao){return'<div style="position:absolute;top:'+Math.round(F.top+ao.p2c(an.v)-ao.labelHeight/2)+"px;left:"+(F.left+j+al)+"px;width:"+ao.labelWidth+'px;text-align:left" class="tickLabel">'+an.label+"</div>"});ak.push("</div>");L.append(ak.join(""))}function aa(ak){if(ak.lines.show){B(ak)}if(ak.bars.show){N(ak)}if(ak.points.show){O(ak)}}function B(an){function am(az,aA,ar,aE,aD){var aF=az.points,at=az.pointsize,ax=null,aw=null;z.beginPath();for(var ay=at;ay<aF.length;ay+=at){var av=aF[ay-at],aC=aF[ay-at+1],au=aF[ay],aB=aF[ay+1];if(av==null||au==null){continue}if(aC<=aB&&aC<aD.min){if(aB<aD.min){continue}av=(aD.min-aC)/(aB-aC)*(au-av)+av;aC=aD.min}else{if(aB<=aC&&aB<aD.min){if(aC<aD.min){continue}au=(aD.min-aC)/(aB-aC)*(au-av)+av;aB=aD.min}}if(aC>=aB&&aC>aD.max){if(aB>aD.max){continue}av=(aD.max-aC)/(aB-aC)*(au-av)+av;aC=aD.max}else{if(aB>=aC&&aB>aD.max){if(aC>aD.max){continue}au=(aD.max-aC)/(aB-aC)*(au-av)+av;aB=aD.max}}if(av<=au&&av<aE.min){if(au<aE.min){continue}aC=(aE.min-av)/(au-av)*(aB-aC)+aC;av=aE.min}else{if(au<=av&&au<aE.min){if(av<aE.min){continue}aB=(aE.min-av)/(au-av)*(aB-aC)+aC;au=aE.min}}if(av>=au&&av>aE.max){if(au>aE.max){continue}aC=(aE.max-av)/(au-av)*(aB-aC)+aC;av=aE.max}else{if(au>=av&&au>aE.max){if(av>aE.max){continue}aB=(aE.max-av)/(au-av)*(aB-aC)+aC;au=aE.max}}if(av!=ax||aC!=aw){z.moveTo(aE.p2c(av)+aA,aD.p2c(aC)+ar)}ax=au;aw=aB;z.lineTo(aE.p2c(au)+aA,aD.p2c(aB)+ar)}z.stroke()}function ao(ay,aF,aD){var aG=ay.points,ar=ay.pointsize,at=Math.min(Math.max(0,aD.min),aD.max),aB,aw=0,aE=false;for(var ax=ar;ax<aG.length;ax+=ar){var av=aG[ax-ar],aC=aG[ax-ar+1],au=aG[ax],aA=aG[ax+1];if(aE&&av!=null&&au==null){z.lineTo(aF.p2c(aw),aD.p2c(at));z.fill();aE=false;continue}if(av==null||au==null){continue}if(av<=au&&av<aF.min){if(au<aF.min){continue}aC=(aF.min-av)/(au-av)*(aA-aC)+aC;av=aF.min}else{if(au<=av&&au<aF.min){if(av<aF.min){continue}aA=(aF.min-av)/(au-av)*(aA-aC)+aC;au=aF.min}}if(av>=au&&av>aF.max){if(au>aF.max){continue}aC=(aF.max-av)/(au-av)*(aA-aC)+aC;av=aF.max}else{if(au>=av&&au>aF.max){if(av>aF.max){continue}aA=(aF.max-av)/(au-av)*(aA-aC)+aC;au=aF.max}}if(!aE){z.beginPath();z.moveTo(aF.p2c(av),aD.p2c(at));aE=true}if(aC>=aD.max&&aA>=aD.max){z.lineTo(aF.p2c(av),aD.p2c(aD.max));z.lineTo(aF.p2c(au),aD.p2c(aD.max));aw=au;continue}else{if(aC<=aD.min&&aA<=aD.min){z.lineTo(aF.p2c(av),aD.p2c(aD.min));z.lineTo(aF.p2c(au),aD.p2c(aD.min));aw=au;continue}}var aH=av,az=au;if(aC<=aA&&aC<aD.min&&aA>=aD.min){av=(aD.min-aC)/(aA-aC)*(au-av)+av;aC=aD.min}else{if(aA<=aC&&aA<aD.min&&aC>=aD.min){au=(aD.min-aC)/(aA-aC)*(au-av)+av;aA=aD.min}}if(aC>=aA&&aC>aD.max&&aA<=aD.max){av=(aD.max-aC)/(aA-aC)*(au-av)+av;aC=aD.max}else{if(aA>=aC&&aA>aD.max&&aC<=aD.max){au=(aD.max-aC)/(aA-aC)*(au-av)+av;aA=aD.max}}if(av!=aH){if(aC<=aD.min){aB=aD.min}else{aB=aD.max}z.lineTo(aF.p2c(aH),aD.p2c(aB));z.lineTo(aF.p2c(av),aD.p2c(aB))}z.lineTo(aF.p2c(av),aD.p2c(aC));z.lineTo(aF.p2c(au),aD.p2c(aA));if(au!=az){if(aA<=aD.min){aB=aD.min}else{aB=aD.max}z.lineTo(aF.p2c(au),aD.p2c(aB));z.lineTo(aF.p2c(az),aD.p2c(aB))}aw=Math.max(au,az)}if(aE){z.lineTo(aF.p2c(aw),aD.p2c(at));z.fill()}}z.save();z.translate(F.left,F.top);z.lineJoin="round";var ap=an.lines.lineWidth,ak=an.shadowSize;if(ap>0&&ak>0){z.lineWidth=ak;z.strokeStyle="rgba(0,0,0,0.1)";var aq=Math.PI/18;am(an.datapoints,Math.sin(aq)*(ap/2+ak/2),Math.cos(aq)*(ap/2+ak/2),an.xaxis,an.yaxis);z.lineWidth=ak/2;am(an.datapoints,Math.sin(aq)*(ap/2+ak/4),Math.cos(aq)*(ap/2+ak/4),an.xaxis,an.yaxis)}z.lineWidth=ap;z.strokeStyle=an.color;var al=w(an.lines,an.color,0,T);if(al){z.fillStyle=al;ao(an.datapoints,an.xaxis,an.yaxis)}if(ap>0){am(an.datapoints,0,0,an.xaxis,an.yaxis)}z.restore()}function O(an){function ap(av,au,aC,ar,aw,aA,az){var aB=av.points,aq=av.pointsize;for(var at=0;at<aB.length;at+=aq){var ay=aB[at],ax=aB[at+1];if(ay==null||ay<aA.min||ay>aA.max||ax<az.min||ax>az.max){continue}z.beginPath();z.arc(aA.p2c(ay),az.p2c(ax)+ar,au,0,aw,false);if(aC){z.fillStyle=aC;z.fill()}z.stroke()}}z.save();z.translate(F.left,F.top);var ao=an.lines.lineWidth,al=an.shadowSize,ak=an.points.radius;if(ao>0&&al>0){var am=al/2;z.lineWidth=am;z.strokeStyle="rgba(0,0,0,0.1)";ap(an.datapoints,ak,null,am+am/2,Math.PI,an.xaxis,an.yaxis);z.strokeStyle="rgba(0,0,0,0.2)";ap(an.datapoints,ak,null,am/2,Math.PI,an.xaxis,an.yaxis)}z.lineWidth=ao;z.strokeStyle=an.color;ap(an.datapoints,ak,w(an.points,an.color),0,2*Math.PI,an.xaxis,an.yaxis);z.restore()}function ab(aw,av,aE,aq,az,an,al,au,at,aD,aA){var am,aC,ar,ay,ao,ak,ax,ap,aB;if(aA){ap=ak=ax=true;ao=false;am=aE;aC=aw;ay=av+aq;ar=av+az;if(aC<am){aB=aC;aC=am;am=aB;ao=true;ak=false}}else{ao=ak=ax=true;ap=false;am=aw+aq;aC=aw+az;ar=aE;ay=av;if(ay<ar){aB=ay;ay=ar;ar=aB;ap=true;ax=false}}if(aC<au.min||am>au.max||ay<at.min||ar>at.max){return}if(am<au.min){am=au.min;ao=false}if(aC>au.max){aC=au.max;ak=false}if(ar<at.min){ar=at.min;ap=false}if(ay>at.max){ay=at.max;ax=false}am=au.p2c(am);ar=at.p2c(ar);aC=au.p2c(aC);ay=at.p2c(ay);if(al){aD.beginPath();aD.moveTo(am,ar);aD.lineTo(am,ay);aD.lineTo(aC,ay);aD.lineTo(aC,ar);aD.fillStyle=al(ar,ay);aD.fill()}if(ao||ak||ax||ap){aD.beginPath();aD.moveTo(am,ar+an);if(ao){aD.lineTo(am,ay+an)}else{aD.moveTo(am,ay+an)}if(ax){aD.lineTo(aC,ay+an)}else{aD.moveTo(aC,ay+an)}if(ak){aD.lineTo(aC,ar+an)}else{aD.moveTo(aC,ar+an)}if(ap){aD.lineTo(am,ar+an)}else{aD.moveTo(am,ar+an)}aD.stroke()}}function N(am){function al(at,ar,av,ap,au,ax,aw){var ay=at.points,ao=at.pointsize;for(var aq=0;aq<ay.length;aq+=ao){if(ay[aq]==null){continue}ab(ay[aq],ay[aq+1],ay[aq+2],ar,av,ap,au,ax,aw,z,am.bars.horizontal)}}z.save();z.translate(F.left,F.top);z.lineWidth=am.bars.lineWidth;z.strokeStyle=am.color;var ak=am.bars.align=="left"?0:-am.bars.barWidth/2;var an=am.bars.fill?function(ao,ap){return w(am.bars,am.color,ao,ap)}:null;al(am.datapoints,ak,ak+am.bars.barWidth,0,an,am.xaxis,am.yaxis);z.restore()}function w(am,ak,al,ao){var an=am.fill;if(!an){return null}if(am.fillColor){return s(am.fillColor,al,ao,ak)}var ap=c.color.parse(ak);ap.a=typeof an=="number"?an:0.4;ap.normalize();return ap.toString()}function ai(){L.find(".legend").remove();if(!H.legend.show){return}var ap=[],an=false,aw=H.legend.labelFormatter,av,ar;for(i=0;i<p.length;++i){av=p[i];ar=av.label;if(!ar){continue}if(i%H.legend.noColumns==0){if(an){ap.push("</tr>")}ap.push("<tr>");an=true}if(aw){ar=aw(ar,av)}ap.push('<td class="legendColorBox"><div style="border:1px solid '+H.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+av.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+ar+"</td>")}if(an){ap.push("</tr>")}if(ap.length==0){return}var au='<table style="font-size:smaller;color:'+H.grid.color+'">'+ap.join("")+"</table>";if(H.legend.container!=null){c(H.legend.container).html(au)}else{var aq="",al=H.legend.position,am=H.legend.margin;if(am[0]==null){am=[am,am]}if(al.charAt(0)=="n"){aq+="top:"+(am[1]+F.top)+"px;"}else{if(al.charAt(0)=="s"){aq+="bottom:"+(am[1]+F.bottom)+"px;"}}if(al.charAt(1)=="e"){aq+="right:"+(am[0]+F.right)+"px;"}else{if(al.charAt(1)=="w"){aq+="left:"+(am[0]+F.left)+"px;"}}var at=c('<div class="legend">'+au.replace('style="','style="position:absolute;'+aq+";")+"</div>").appendTo(L);if(H.legend.backgroundOpacity!=0){var ao=H.legend.backgroundColor;if(ao==null){ao=H.grid.backgroundColor;if(ao&&typeof ao=="string"){ao=c.color.parse(ao)}else{ao=c.color.extract(at,"background-color")}ao.a=1;ao=ao.toString()}var ak=at.children();c('<div style="position:absolute;width:'+ak.width()+"px;height:"+ak.height()+"px;"+aq+"background-color:"+ao+';"> </div>').prependTo(at).css("opacity",H.legend.backgroundOpacity)}}}var W=[],k=null;function af(ar,ap,am){var ay=H.grid.mouseActiveRadius,aK=ay*ay+1,aI=null,aB=false,aG,aE;for(aG=0;aG<p.length;++aG){if(!am(p[aG])){continue}var az=p[aG],aq=az.xaxis,ao=az.yaxis,aF=az.datapoints.points,aD=az.datapoints.pointsize,aA=aq.c2p(ar),ax=ao.c2p(ap),al=ay/aq.scale,ak=ay/ao.scale;if(az.lines.show||az.points.show){for(aE=0;aE<aF.length;aE+=aD){var au=aF[aE],at=aF[aE+1];if(au==null){continue}if(au-aA>al||au-aA<-al||at-ax>ak||at-ax<-ak){continue}var aw=Math.abs(aq.p2c(au)-ar),av=Math.abs(ao.p2c(at)-ap),aC=aw*aw+av*av;if(aC<=aK){aK=aC;aI=[aG,aE/aD]}}}if(az.bars.show&&!aI){var an=az.bars.align=="left"?0:-az.bars.barWidth/2,aH=an+az.bars.barWidth;for(aE=0;aE<aF.length;aE+=aD){var au=aF[aE],at=aF[aE+1],aJ=aF[aE+2];if(au==null){continue}if(p[aG].bars.horizontal?(aA<=Math.max(aJ,au)&&aA>=Math.min(aJ,au)&&ax>=at+an&&ax<=at+aH):(aA>=au+an&&aA<=au+aH&&ax>=Math.min(aJ,at)&&ax<=Math.max(aJ,at))){aI=[aG,aE/aD]}}}}if(aI){aG=aI[0];aE=aI[1];aD=p[aG].datapoints.pointsize;return{datapoint:p[aG].datapoints.points.slice(aE*aD,(aE+1)*aD),dataIndex:aE,series:p[aG],seriesIndex:aG}}return null}function d(ak){if(H.grid.hoverable){h("plothover",ak,function(al){return al.hoverable!=false})}}function E(ak){h("plotclick",ak,function(al){return al.clickable!=false})}function h(al,ak,am){var an=ad.offset(),at={pageX:ak.pageX,pageY:ak.pageY},aq=ak.pageX-an.left-F.left,ao=ak.pageY-an.top-F.top;if(S.xaxis.used){at.x=S.xaxis.c2p(aq)}if(S.yaxis.used){at.y=S.yaxis.c2p(ao)}if(S.x2axis.used){at.x2=S.x2axis.c2p(aq)}if(S.y2axis.used){at.y2=S.y2axis.c2p(ao)}var au=af(aq,ao,am);if(au){au.pageX=parseInt(au.series.xaxis.p2c(au.datapoint[0])+an.left+F.left);au.pageY=parseInt(au.series.yaxis.p2c(au.datapoint[1])+an.top+F.top)}if(H.grid.autoHighlight){for(var ap=0;ap<W.length;++ap){var ar=W[ap];if(ar.auto==al&&!(au&&ar.series==au.series&&ar.point==au.datapoint)){X(ar.series,ar.point)}}if(au){ae(au.series,au.datapoint,al)}}L.trigger(al,[at,au])}function Q(){if(!k){k=setTimeout(V,30)}}function V(){k=null;aj.save();aj.clearRect(0,0,Y,r);aj.translate(F.left,F.top);var al,ak;for(al=0;al<W.length;++al){ak=W[al];if(ak.series.bars.show){Z(ak.series,ak.point)}else{U(ak.series,ak.point)}}aj.restore();A(m.drawOverlay,[aj])}function ae(am,ak,an){if(typeof am=="number"){am=p[am]}if(typeof ak=="number"){ak=am.data[ak]}var al=J(am,ak);if(al==-1){W.push({series:am,point:ak,auto:an});Q()}else{if(!an){W[al].auto=false}}}function X(am,ak){if(am==null&&ak==null){W=[];Q()}if(typeof am=="number"){am=p[am]}if(typeof ak=="number"){ak=am.data[ak]}var al=J(am,ak);if(al!=-1){W.splice(al,1);Q()}}function J(am,an){for(var ak=0;ak<W.length;++ak){var al=W[ak];if(al.series==am&&al.point[0]==an[0]&&al.point[1]==an[1]){return ak}}return -1}function U(an,am){var al=am[0],ar=am[1],aq=an.xaxis,ap=an.yaxis;if(al<aq.min||al>aq.max||ar<ap.min||ar>ap.max){return}var ao=an.points.radius+an.points.lineWidth/2;aj.lineWidth=ao;aj.strokeStyle=c.color.parse(an.color).scale("a",0.5).toString();var ak=1.5*ao;aj.beginPath();aj.arc(aq.p2c(al),ap.p2c(ar),ak,0,2*Math.PI,false);aj.stroke()}function Z(an,ak){aj.lineWidth=an.bars.lineWidth;aj.strokeStyle=c.color.parse(an.color).scale("a",0.5).toString();var am=c.color.parse(an.color).scale("a",0.5).toString();var al=an.bars.align=="left"?0:-an.bars.barWidth/2;ab(ak[0],ak[1],ak[2]||0,al,al+an.bars.barWidth,0,function(){return am},an.xaxis,an.yaxis,aj,an.bars.horizontal)}function s(am,al,aq,ao){if(typeof am=="string"){return am}else{var ap=z.createLinearGradient(0,aq,0,al);for(var an=0,ak=am.colors.length;an<ak;++an){var ar=am.colors[an];if(typeof ar!="string"){ar=c.color.parse(ao).scale("rgb",ar.brightness);ar.a*=ar.opacity;ar=ar.toString()}ap.addColorStop(an/(ak-1),ar)}return ap}}}c.plot=function(g,e,d){var f=new b(c(g),e,d,c.plot.plugins);return f};c.plot.plugins=[];c.plot.formatDate=function(j,f,h){var n=function(d){d=""+d;return d.length==1?"0"+d:d};var e=[];var o=false;var m=j.getUTCHours();var k=m<12;if(h==null){h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(f.search(/%p|%P/)!=-1){if(m>12){m=m-12}else{if(m==0){m=12}}}for(var g=0;g<f.length;++g){var l=f.charAt(g);if(o){switch(l){case"h":l=""+m;break;case"H":l=n(m);break;case"M":l=n(j.getUTCMinutes());break;case"S":l=n(j.getUTCSeconds());break;case"d":l=""+j.getUTCDate();break;case"m":l=""+(j.getUTCMonth()+1);break;case"y":l=""+j.getUTCFullYear();break;case"b":l=""+h[j.getUTCMonth()];break;case"p":l=(k)?("am"):("pm");break;case"P":l=(k)?("AM"):("PM");break}e.push(l);o=false}else{if(l=="%"){o=true}else{e.push(l)}}}return e.join("")};function a(e,d){return d*Math.floor(e/d)}})(jQuery);(function(a){function b(k){var p={first:{x:-1,y:-1},second:{x:-1,y:-1},show:false,active:false};var m={};function d(r){if(p.active){k.getPlaceholder().trigger("plotselecting",[f()]);l(r)}}function n(r){if(r.which!=1){return}document.body.focus();if(document.onselectstart!==undefined&&m.onselectstart==null){m.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!==undefined&&m.ondrag==null){m.ondrag=document.ondrag;document.ondrag=function(){return false}}c(p.first,r);p.active=true;a(document).one("mouseup",j)}function j(r){if(document.onselectstart!==undefined){document.onselectstart=m.onselectstart}if(document.ondrag!==undefined){document.ondrag=m.ondrag}p.active=false;l(r);if(e()){h()}else{k.getPlaceholder().trigger("plotunselected",[]);k.getPlaceholder().trigger("plotselecting",[null])}return false}function f(){if(!e()){return null}var t=Math.min(p.first.x,p.second.x),s=Math.max(p.first.x,p.second.x),v=Math.max(p.first.y,p.second.y),u=Math.min(p.first.y,p.second.y);var w={};var x=k.getAxes();if(x.xaxis.used){w.xaxis={from:x.xaxis.c2p(t),to:x.xaxis.c2p(s)}}if(x.x2axis.used){w.x2axis={from:x.x2axis.c2p(t),to:x.x2axis.c2p(s)}}if(x.yaxis.used){w.yaxis={from:x.yaxis.c2p(v),to:x.yaxis.c2p(u)}}if(x.y2axis.used){w.y2axis={from:x.y2axis.c2p(v),to:x.y2axis.c2p(u)}}return w}function h(){var s=f();k.getPlaceholder().trigger("plotselected",[s]);var t=k.getAxes();if(t.xaxis.used&&t.yaxis.used){k.getPlaceholder().trigger("selected",[{x1:s.xaxis.from,y1:s.yaxis.from,x2:s.xaxis.to,y2:s.yaxis.to}])}}function g(s,t,r){return t<s?s:(t>r?r:t)}function c(v,s){var u=k.getOptions();var t=k.getPlaceholder().offset();var r=k.getPlotOffset();v.x=g(0,s.pageX-t.left-r.left,k.width());v.y=g(0,s.pageY-t.top-r.top,k.height());if(u.selection.mode=="y"){v.x=v==p.first?0:k.width()}if(u.selection.mode=="x"){v.y=v==p.first?0:k.height()}}function l(r){if(r.pageX==null){return}c(p.second,r);if(e()){p.show=true;k.triggerRedrawOverlay()}else{q(true)}}function q(r){if(p.show){p.show=false;k.triggerRedrawOverlay();if(!r){k.getPlaceholder().trigger("plotunselected",[])}}}function o(s,r){var u,t,v=k.getAxes();var w=k.getOptions();if(w.selection.mode=="y"){p.first.x=0;p.second.x=k.width()}else{u=s.xaxis?v.xaxis:(s.x2axis?v.x2axis:v.xaxis);t=s.xaxis||s.x2axis||{from:s.x1,to:s.x2};p.first.x=u.p2c(Math.min(t.from,t.to));p.second.x=u.p2c(Math.max(t.from,t.to))}if(w.selection.mode=="x"){p.first.y=0;p.second.y=k.height()}else{u=s.yaxis?v.yaxis:(s.y2axis?v.y2axis:v.yaxis);t=s.yaxis||s.y2axis||{from:s.y1,to:s.y2};p.first.y=u.p2c(Math.min(t.from,t.to));p.second.y=u.p2c(Math.max(t.from,t.to))}p.show=true;k.triggerRedrawOverlay();if(!r){h()}}function e(){var r=5;return Math.abs(p.second.x-p.first.x)>=r&&Math.abs(p.second.y-p.first.y)>=r}k.clearSelection=q;k.setSelection=o;k.getSelection=f;k.hooks.bindEvents.push(function(s,r){var t=s.getOptions();if(t.selection.mode!=null){r.mousemove(d)}if(t.selection.mode!=null){r.mousedown(n)}});k.hooks.drawOverlay.push(function(u,C){if(p.show&&e()){var s=u.getPlotOffset();var r=u.getOptions();C.save();C.translate(s.left,s.top);var v=a.color.parse(r.selection.color);C.strokeStyle=v.scale("a",0.8).toString();C.lineWidth=1;C.lineJoin="round";C.fillStyle=v.scale("a",0.4).toString();var A=Math.min(p.first.x,p.second.x),z=Math.min(p.first.y,p.second.y),B=Math.abs(p.second.x-p.first.x),t=Math.abs(p.second.y-p.first.y);C.fillRect(A,z,B,t);C.strokeRect(A,z,B,t);C.restore()}})}a.plot.plugins.push({init:b,options:{selection:{mode:null,color:"#e8cfac"}},name:"selection",version:"1.0"})})(jQuery);