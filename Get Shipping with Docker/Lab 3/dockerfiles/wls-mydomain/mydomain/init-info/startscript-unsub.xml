<?xml version="1.0" encoding="UTF-8"?>

<scripts>
	<script name="installNodeMgrSvc" version="3" path="bin" overwrite="false" unixFileSep="${CLASSPATHSEP}" unixGenDisable="true">
		<comment>
			<value>*************************************************************************</value>
			<value> This script is used to install a NodeManager Windows Service.</value>
			<value> This script should be used only when node manager is configured per domain.</value>
			<value> This script sets the following variables before installing </value>
			<value> the Windows Service:</value>
			<value></value>
			<value> WL_HOME    - The root directory of your WebLogic installation</value>
			<value> PROD_NAME  - The product name. Here it will product name and domain name</value>
			<value> NODEMGR_HOME - The node manager home.</value>
			<value> NODEMGR_HOST - The node manager host.</value>
			<value> NODEMGR_PORT - The node manager port.</value>
			<value> *************************************************************************</value>
		</comment>
		<marker name="section_marker_1" type="blockinsert" action="append"/>
		<setenv name="WL_HOME" shorten="true">
			<value>@WL_HOME</value>
		</setenv>
		<setenv name="PROD_NAME" scope="global">
			<value>@PROD_NAME</value>
		</setenv>
		<setenv name="NODEMGR_HOME" shorten="true" scope="global">
			<value>@NODEMGR_HOME</value>
		</setenv>
		<setenv name="NODEMGR_HOST" scope="global">
			<value>@NODEMGR_HOST</value>
		</setenv>
		<setenv name="NODEMGR_PORT" scope="global">
			<value>@NODEMGR_PORT</value>
		</setenv>
		<setenv name="DOMAIN_HOME" shorten="true">
			<value>@USERDOMAIN_HOME</value>
		</setenv>
		<setenv name="JAVA_OPTIONS" scope="global" delim=" ">
			<value>%JAVA_OPTIONS%</value>
			<value>-Dweblogic.RootDirectory=%DOMAIN_HOME%</value>
		</setenv>
		<marker name="section_marker_2" type="blockinsert" action="append"/>
		<comment message=" Call install node manager service"/>
		<exec name="installNodeMgrSvc" type="script">
			<cmd start="%WL_HOME%\server\bin\installNodeMgrSvc" min="false"/>
		</exec>
	</script>
	<script name="uninstallNodeMgrSvc" version="3" path="bin" overwrite="false" unixFileSep="${CLASSPATHSEP}" unixGenDisable="true">
		<comment>
			<value>*************************************************************************</value>
			<value> This script is used to uninstall a NodeManager Windows Service.</value>
			<value> This script should be used only when node manager is configured per domain.</value>
			<value> This script sets the following variables before installing </value>
			<value> the Windows Service:</value>
			<value></value>
			<value> WL_HOME    - The root directory of your WebLogic installation</value>
			<value> PROD_NAME  - The product name. Here it will product name and domain name</value>
			<value> *************************************************************************</value>
		</comment>
		<marker name="section_marker_1" type="blockinsert" action="append"/>
		<setenv name="WL_HOME" shorten="true">
			<value>@WL_HOME</value>
		</setenv>
		<setenv name="PROD_NAME" scope="global">
			<value>@PROD_NAME</value>
		</setenv>
		<marker name="section_marker_2" type="blockinsert" action="append"/>
		<comment message=" Call uninstall node manager service"/>
		<exec name="uninstallNodeMgrSvc" type="script">
			<cmd start="%WL_HOME%\server\bin\uninstallNodeMgrSvc" min="false"/>
		</exec>
	</script>
	<script name="startNodeManager" version="3" path="bin" overwrite="false" unixFileSep="${CLASSPATHSEP}">
		<comment>
			<value>*************************************************************************</value>
			<value> This script is used to start a NodeManager.</value>
			<value> This script should be used only when node manager is configured per domain.</value>
			<value> This script sets the following variables before starting </value>
			<value> the node manager:</value>
			<value></value>
			<value> WL_HOME    - The root directory of your WebLogic installation</value>
			<value> NODEMGR_HOME  - The product name. Here it will product name and domain name</value>
			<value> *************************************************************************</value>
		</comment>
		<marker name="section_marker_1" type="blockinsert" action="append"/>
		<setenv name="WL_HOME" shorten="true">
			<value>@WL_HOME</value>
		</setenv>
		<setenv name="NODEMGR_HOME" shorten="true" scope="global">
			<value>@NODEMGR_HOME</value>
		</setenv>
		<setenv name="DOMAIN_HOME" shorten="true">
			<value>@USERDOMAIN_HOME</value>
		</setenv>
		<setenv name="JAVA_OPTIONS" scope="global" delim=" ">
			<value>%JAVA_OPTIONS%</value>
			<value>-Dweblogic.RootDirectory=%DOMAIN_HOME%</value>
		</setenv>
		<marker name="section_marker_2" type="blockinsert" action="append"/>
		<marker name="section_marker_3" type="blockinsert" action="append"/>
		<marker name="section_marker_4" type="blockinsert" action="append"/>
		<marker name="section_marker_5" type="blockinsert" action="append"/>
		<comment message=" start node manager"/>
		<exec name="startNodeManager" type="script">
			<cmd start="%WL_HOME%\server\bin\startNodeManager" min="false"/>
		</exec>
	</script>
	<script name="startWebLogic" version="3" path="bin" overwrite="false" unixFileSep="${CLASSPATHSEP}">
		<function name="stopAll">
			<comment message="We separate the stop commands into a function so we are able to use the trap command in Unix (calling a function) to stop these services"/>
			<if>
				<test type="string" not="true">
					<operand value="X%ALREADY_STOPPED%"/>
					<operand value="X"/>
				</test>
				<then>
					<exit/>
				</then>
			</if>
			<comment message="STOP DERBY (only if we started it)"/>
			<if>
				<test type="string">
					<operand value="%DERBY_FLAG%"/>
					<operand value="true"/>
				</test>
				<then>
					<echo message="Stopping Derby server..."/>
					<exec name="Stop Derby" type="script">
						<cmd start="%WL_HOME%\common\derby\bin\stopNetworkServer" min="false"/>
						<redirect file="%DOMAIN_HOME%\derbyShutdown.log" tostream="1" fromstream="2"/>
					</exec>
					<marker name="stopNetworkServer" type="exec" action="insert"/>
					<echo message="Derby server stopped."/>
				</then>
			</if>
			<marker name="Stop Portal SearchEngine" type="exec" action="insert"/>
			<setenv name="ALREADY_STOPPED">
				<value>true</value>
			</setenv>
		</function>
		<function name="classCaching">
			<echo message="Class caching enabled..."/>
			<setenv name="JAVA_OPTIONS" scope="global">
				<value>%JAVA_OPTIONS% -Dlaunch.main.class=${SERVER_CLASS} -Dlaunch.class.path=&quot;${CLASSPATH}&quot; -Dlaunch.complete=weblogic.store.internal.LockManagerImpl -cp %WL_HOME%\server\lib\pcl2.jar</value>
			</setenv>
			<setenv name="SERVER_CLASS">
				<value>com.oracle.classloader.launch.Launcher</value>
			</setenv>
		</function>
		<comment>
			<value>*************************************************************************</value>
			<value>This script is used to start WebLogic Server for this domain.</value>
			<value></value>
			<value>To create your own start script for your domain, you can initialize the</value>
			<value>environment by calling @USERDOMAINHOME\setDomainEnv.</value>
			<value></value>
			<value>setDomainEnv initializes or calls commEnv to initialize the following variables:</value>
			<value></value>
			<value>BEA_HOME       - The BEA home directory of your WebLogic installation.</value>
			<value>JAVA_HOME      - Location of the version of Java used to start WebLogic</value>
			<value>                 Server.</value>
			<value>JAVA_VENDOR    - Vendor of the JVM (i.e. BEA, HP, IBM, Sun, etc.)</value>
			<value>PATH           - JDK and WebLogic directories are added to system path.</value>
			<value>WEBLOGIC_CLASSPATH</value>
			<value>               - Classpath needed to start WebLogic Server.</value>
			<value>PATCH_CLASSPATH - Classpath used for patches</value>
			<value>PATCH_LIBPATH  - Library path used for patches</value>
			<value>PATCH_PATH     - Path used for patches</value>
			<value>WEBLOGIC_EXTENSION_DIRS - Extension dirs for WebLogic classpath patch</value>
			<value>JAVA_VM        - The java arg specifying the VM to run.  (i.e.</value>
			<value>               - server, -hotspot, etc.)</value>
			<value>USER_MEM_ARGS  - The variable to override the standard memory arguments</value>
			<value>                 passed to java.</value>
			<value>PRODUCTION_MODE - The variable that determines whether Weblogic Server is started in production mode.</value>
			<value>DERBY_HOME - Derby home directory.</value>
			<value>DERBY_CLASSPATH</value>
			<value>               - Classpath needed to start Derby.</value>
			<value></value>
			<value>Other variables used in this script include:</value>
			<value>SERVER_NAME    - Name of the weblogic server.</value>
			<value>JAVA_OPTIONS   - Java command-line options for running the server. (These</value>
			<value>                 will be tagged on to the end of the JAVA_VM and</value>
			<value>                 MEM_ARGS)</value>
			<value>CLASS_CACHE    - Enable class caching of system classpath.</value>
			<value>PROXY_SETTINGS - These are tagged on to the end of the JAVA_OPTIONS. This variable is deprecated and should not</value>
			<value>                 be used. Instead use JAVA_OPTIONS</value>
			<value></value>
			<value>For additional information, refer to &quot;Managing Server Startup and Shutdown for Oracle WebLogic Server&quot;</value>
			<value preserve="true"> (@DOCSWEBROOT/e21048/overview.htm).</value>
			<value>*************************************************************************</value>
		</comment>
		<blockinsert name="umask_section" os="unix">
			<exec name="umask" type="program">
				<cmd start="umask 027" min="false"/>
			</exec>
		</blockinsert>
		<marker name="section_marker_1" type="blockinsert" action="append"/>
		<comment message="Call setDomainEnv here."/>
		<setenv name="DOMAIN_HOME" shorten="true">
			<value>@USERDOMAIN_HOME</value>
		</setenv>
		<exec name="setDomainEnv" type="script">
			<cmd start="%DOMAIN_HOME%\bin\setDomainEnv" min="false" source="true"/>
			<params>
				<value>%*</value>
			</params>
		</exec>
		<marker name="section_marker_2" type="blockinsert" action="append"/>
		<marker name="section_marker_3" type="blockinsert" action="append"/>
		<setenv name="SAVE_JAVA_OPTIONS">
			<value>%JAVA_OPTIONS%</value>
		</setenv>
		<setenv name="SAVE_CLASSPATH">
			<value>%CLASSPATH%</value>
		</setenv>
		<marker name="section_marker_4" type="blockinsert" action="append"/>
		<comment message="Start Derby"/>
		<marker name="DERBY_DEBUG_LEVEL" type="setenv" action="replace"/>
		<setenv name="DERBY_DEBUG_LEVEL" scope="local">
			<value>0</value>
		</setenv>
		<marker name="section_marker_5" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%DERBY_FLAG%"/>
				<operand value="true"/>
			</test>
			<then>
				<exec name="Derby" type="script">
					<cmd start="%WL_HOME%\common\derby\bin\startNetworkServer" min="false"/>
					<redirect file="%DOMAIN_HOME%\derby.log" tostream="1" fromstream="2"/>
				</exec>
				<marker name="startNetworkServer" type="exec" action="insert"/>
			</then>
		</if>
		<marker name="section_marker_6" type="blockinsert" action="append"/>
		<marker name="Start Portal SearchEngine" type="blockinsert" action="insert" merge="true"/>
		<setenv name="JAVA_OPTIONS">
			<value>%SAVE_JAVA_OPTIONS%</value>
		</setenv>
		<setenv name="SAVE_JAVA_OPTIONS">
			<value></value>
		</setenv>
		<setenv name="CLASSPATH">
			<value>%SAVE_CLASSPATH%</value>
		</setenv>
		<setenv name="SAVE_CLASSPATH">
			<value></value>
		</setenv>
		<marker name="section_marker_7" type="blockinsert" action="append"/>
		<trap signal="1 2 3 15">
			<call name="stopAll"/>
		</trap>
		<if>
			<test type="string">
				<operand value="%PRODUCTION_MODE%"/>
				<operand value="true"/>
			</test>
			<then>
				<setenv name="WLS_DISPLAY_MODE">
					<value>Production</value>
				</setenv>
			</then>
			<else>
				<setenv name="WLS_DISPLAY_MODE">
					<value>Development</value>
				</setenv>
			</else>
		</if>
		<if>
			<test type="string" not="true">
				<operand value="%WLS_USER%"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="JAVA_OPTIONS" delim=" ">
					<value>%JAVA_OPTIONS%</value>
					<value>-Dweblogic.management.username=%WLS_USER%</value>
				</setenv>
			</then>
		</if>
		<if>
			<test type="string" not="true">
				<operand value="%WLS_PW%"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="JAVA_OPTIONS" delim=" ">
					<value>%JAVA_OPTIONS%</value>
					<value>-Dweblogic.management.password=%WLS_PW%</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_8" type="blockinsert" action="append"/>
		<marker name="MEDREC_WEBLOGIC_CLASSPATH" type="setenv" action="insert"/>
		<if>
			<test type="string" not="true">
				<operand value="%MEDREC_WEBLOGIC_CLASSPATH%"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string" not="true">
						<operand value="%CLASSPATH%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="CLASSPATH" filterEmptyVal="true">
							<value>%CLASSPATH%</value>
							<value>%MEDREC_WEBLOGIC_CLASSPATH%</value>
						</setenv>
					</then>
					<else>
						<setenv name="CLASSPATH" filterEmptyVal="true">
							<value>%MEDREC_WEBLOGIC_CLASSPATH%</value>
						</setenv>
					</else>
				</if>
			</then>
		</if>
		<marker name="section_marker_9" type="blockinsert" action="append"/>
		<echo message="."/>
		<echo message="."/>
		<echo message="JAVA Memory arguments: %MEM_ARGS%"/>
		<echo message="."/>
		<echo message="CLASSPATH=%CLASSPATH%"/>
		<echo message="."/>
		<echo message="PATH=%PATH%"/>
		<echo message="."/>
		<echo message="***************************************************"/>
		<echo message="*  To start WebLogic Server, use a username and   *"/>
		<echo message="*  password assigned to an admin-level user.  For *"/>
		<echo message="*  server administration, use the WebLogic Server *"/>
		<echo message="*  console at http://hostname:port/console        *"/>
		<echo message="***************************************************"/>
		<marker name="section_marker_12" type="blockinsert" action="append"/>
		<marker name="section_marker_13" type="blockinsert" action="append"/>
		<comment message="CLASS CACHING"/>
		<if>
			<test type="string">
				<operand value="%CLASS_CACHE%"/>
				<operand value="true"/>
			</test>
			<then>
				<call name="classCaching"/>
			</then>
		</if>
		<marker name="section_marker_14" type="blockinsert" action="append"/>
		<comment message="START WEBLOGIC"/>
		<echo message="starting weblogic with Java version:"/>
		<exec name="Java Version" type="program">
			<cmd start="%JAVA_HOME%\bin\java" end="-version" min="false"/>
			<params>
				<value>%JAVA_VM%</value>
			</params>
		</exec>
		<marker name="section_marker_15" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%WLS_REDIRECT_LOG%"/>
				<operand value=""/>
			</test>
			<then>
				<echo message="Starting WLS with line:"/>
				<echo message="%JAVA_HOME%\bin\java %JAVA_VM% %MEM_ARGS% -Dweblogic.Name=%SERVER_NAME% -Djava.security.policy=%WLS_POLICY_FILE% %JAVA_OPTIONS% %PROXY_SETTINGS% %SERVER_CLASS%"/>
				<exec name="startserver" type="program">
					<cmd start="%JAVA_HOME%\bin\java" end="%SERVER_CLASS%" min="false"/>
					<params>
						<value>%JAVA_VM%</value>
						<value>%MEM_ARGS%</value>
						<value>-Dweblogic.Name=%SERVER_NAME%</value>
						<value>-Djava.security.policy=%WLS_POLICY_FILE%</value>
						<value>%JAVA_OPTIONS%</value>
						<value>%PROXY_SETTINGS%</value>
					</params>
				</exec>
			</then>
			<else>
				<echo message="Redirecting output from WLS window to %WLS_REDIRECT_LOG%"/>
				<exec name="startserver" type="program">
					<cmd start="%JAVA_HOME%\bin\java" end="%SERVER_CLASS%" min="false"/>
					<params>
						<value>%JAVA_VM%</value>
						<value>%MEM_ARGS%</value>
						<value>-Dweblogic.Name=%SERVER_NAME%</value>
						<value>-Djava.security.policy=%WLS_POLICY_FILE%</value>
						<value>%JAVA_OPTIONS%</value>
						<value>%PROXY_SETTINGS%</value>
					</params>
					<redirect file="%WLS_REDIRECT_LOG%" tostream="1" fromstream="2"/>
				</exec>
			</else>
		</if>
		<marker name="section_marker_16" type="blockinsert" action="append"/>
		<call name="stopAll"/>
		<popd/>
		<comment>
			<value>Exit this script only if we have been told to exit.</value>
		</comment>
		<if>
			<test type="string">
				<operand value="%doExitFlag%"/>
				<operand value="true"/>
			</test>
			<then>
				<exit hard="true"/>
			</then>
		</if>
		<marker name="section_marker_17" type="blockinsert" action="append"/>
	</script>
	<script name="startWebLogic" version="3" overwrite="false" unixFileSep="${CLASSPATHSEP}">
		<marker name="section_marker_1" type="blockinsert" action="append"/>
		<setenv name="DOMAIN_HOME">
			<value>@USERDOMAIN_HOME</value>
		</setenv>
		<marker name="section_marker_2" type="blockinsert" action="append"/>
		<exec name="startWebLogic" type="script">
			<cmd start="%DOMAIN_HOME%\bin\startWebLogic" min="false"/>
			<params>
				<value>%*</value>
			</params>
		</exec>
		<marker name="section_marker_3" type="blockinsert" action="append"/>
	</script>
	<script name="stopWebLogic" version="3" path="bin" overwrite="false">
		<marker name="section_marker_1" type="blockinsert" action="append"/>
		<if>
			<test type="string" not="true">
				<operand value="%1"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="wlsUserID" scope="global">
					<value>%1</value>
				</setenv>
				<setenv name="userID">
					<value>username=wlsUserID,</value>
				</setenv>
				<shift/>
			</then>
			<else>
				<if>
					<test type="string" not="true">
						<operand value="%userID%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="wlsUserID" scope="global">
							<value>%userID%</value>
						</setenv>
						<setenv name="userID">
							<value>username=wlsUserID,</value>
						</setenv>
					</then>
				</if>
			</else>
		</if>
		<marker name="section_marker_2" type="blockinsert" action="append"/>
		<if>
			<test type="string" not="true">
				<operand value="%1"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="wlsPassword" scope="global">
					<value>%1</value>
				</setenv>
				<setenv name="password">
					<value>password=wlsPassword,</value>
				</setenv>
				<shift/>
			</then>
			<else>
				<if>
					<test type="string" not="true">
						<operand value="%password%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="wlsPassword" scope="global">
							<value>%password%</value>
						</setenv>
						<setenv name="password">
							<value>password=wlsPassword,</value>
						</setenv>
					</then>
				</if>
			</else>
		</if>
		<marker name="section_marker_3" type="blockinsert" action="append"/>
		<comment message="set ADMIN_URL"/>
		<if>
			<test type="string" not="true">
				<operand value="%1"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="ADMIN_URL">
					<value>%1</value>
				</setenv>
				<shift/>
			</then>
			<else>
				<if>
					<test type="string">
						<operand value="%ADMIN_URL%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="ADMIN_URL">
							<value preserve="true">t3://@SERVER_HOST:@SERVER_PORT</value>
						</setenv>
					</then>
				</if>
			</else>
		</if>
		<marker name="section_marker_4" type="blockinsert" action="append"/>
		<comment message="Call setDomainEnv here because we want to have shifted out the environment vars above"/>
		<setenv name="DOMAIN_HOME" shorten="true">
			<value>@USERDOMAIN_HOME</value>
		</setenv>
		<comment message="Read the environment variable from the console."/>
		<if>
			<test type="string">
				<operand value="%doExit%"/>
				<operand value="true"/>
			</test>
			<then>
				<setenv name="exitFlag">
					<value>doExit</value>
				</setenv>
			</then>
			<else>
				<setenv name="exitFlag">
					<value>noExit</value>
				</setenv>
			</else>
		</if>
		<exec name="setDomainEnv" type="script">
			<cmd start="%DOMAIN_HOME%\bin\setDomainEnv" min="false" source="true"/>
			<params>
				<value>%exitFlag%</value>
			</params>
		</exec>
		<blockinsert name="umask_section" os="unix">
			<exec name="umask" type="program">
				<cmd start="umask 026" min="false"/>
			</exec>
		</blockinsert>
		<marker name="section_marker_5" type="blockinsert" action="append"/>
		<echo>
			<value>wlsUserID = java.lang.System.getenv(&#039;wlsUserID&#039;)</value>
			<value>wlsPassword = java.lang.System.getenv(&#039;wlsPassword&#039;)</value>
			<value>connect(%userID% %password% url=&#039;%ADMIN_URL%&#039;, adminServerName=&#039;%SERVER_NAME%&#039;)</value>
			<value>shutdown(&#039;%SERVER_NAME%&#039;,&#039;Server&#039;, ignoreSessions=&#039;true&#039;)</value>
			<value>exit()</value>
			<redirect file="shutdown.py"/>
		</echo>
		<echo message="Stopping Weblogic Server..."/>
		<exec name="Stop Weblogic Server..." type="program">
			<cmd start="%JAVA_HOME%\bin\java" end="weblogic.WLST" min="false"/>
			<params>
				<value>-classpath %FMWCONFIG_CLASSPATH%</value>
				<value>%MEM_ARGS%</value>
				<value>%JVM_D64%</value>
				<value>%JAVA_OPTIONS%</value>
			</params>
			<params type="post">
				<value>shutdown.py</value>
			</params>
			<redirect tostream="1" fromstream="2"/>
		</exec>
		<echo message="Done"/>
		<echo message="Stopping Derby Server..."/>
		<if>
			<test type="string">
				<operand value="%DERBY_FLAG%"/>
				<operand value="true"/>
			</test>
			<then>
				<exec name="stopDerby" type="script">
					<cmd start="%WL_HOME%\common\derby\bin\stopNetworkServer" min="false" source="true"/>
					<redirect file="%DOMAIN_HOME%\derbyShutdown.log" tostream="1" fromstream="2"/>
				</exec>
				<echo message="Derby server stopped."/>
			</then>
		</if>
		<comment>
			<value>Exit this script only if we have been told to exit.</value>
		</comment>
		<if>
			<test type="string">
				<operand value="%doExitFlag%"/>
				<operand value="true"/>
			</test>
			<then>
				<exit hard="true"/>
			</then>
		</if>
		<marker name="section_marker_6" type="blockinsert" action="append"/>
	</script>
	<script name="startManagedWebLogic" version="3" path="bin" overwrite="false">
		<function name="usage">
			<echo message="Need to set SERVER_NAME and ADMIN_URL environment variables or specify"/>
			<echo message="them in command line:"/>
			<echo message="Usage: %1 SERVER_NAME {ADMIN_URL}"/>
			<echo message="for example:"/>
			<echo>
				<value>%1 managedserver1 </value>
				<value preserve="true" mergeprev="true">@ADMIN_SERVER_URL</value>
			</echo>
		</function>
		<comment>
			<value>*************************************************************************</value>
			<value>This script is used to start a managed WebLogic Server for the domain in</value>
			<value>the current working directory.  This script can either read in the SERVER_NAME and</value>
			<value>ADMIN_URL as positional parameters or will read them from environment variables that are </value>
			<value>set before calling this script. If SERVER_NAME is not sent as a parameter or exists with a value</value>
			<value>as an environment variable the script will EXIT. If the ADMIN_URL value cannot be determined</value>
			<value>by reading a parameter or from the environment a default value will be used.</value>
			<value></value>
			<value> For additional information, refer to &quot;Managing Server Startup and Shutdown for Oracle WebLogic Server&quot;</value>
			<value preserve="true"> (@DOCSWEBROOT/e21048/overview.htm)</value>
			<value>*************************************************************************</value>
		</comment>
		<marker name="section_marker_1" type="blockinsert" action="append"/>
		<comment message=" Set SERVER_NAME to the name of the server you wish to start up."/>
		<setenv name="DOMAIN_NAME">
			<value>@DOMAIN_NAME</value>
		</setenv>
		<setenv name="ADMIN_URL">
			<value preserve="true">@ADMIN_SERVER_URL</value>
		</setenv>
		<marker name="section_marker_2" type="blockinsert" action="append"/>
		<comment message=" Set WLS_USER equal to your system username and WLS_PW equal  "/>
		<comment message=" to your system password for no username and password prompt "/>
		<comment message=" during server startup.  Both are required to bypass the startup"/>
		<comment message=" prompt."/>
		<setenv name="WLS_USER" scope="global">
			<value></value>
		</setenv>
		<setenv name="WLS_PW" scope="global">
			<value></value>
		</setenv>
		<marker name="section_marker_3" type="blockinsert" action="append"/>
		<comment message=" Set JAVA_OPTIONS to the java flags you want to pass to the vm. i.e.: "/>
		<comment message=" set JAVA_OPTIONS=-Dweblogic.attribute=value -Djava.attribute=value"/>
		<setenv name="JAVA_OPTIONS" scope="global" delim=" ">
			<value>-Dweblogic.security.SSL.trustedCAKeyStore=&quot;@WL_HOME\server\lib\cacerts&quot;</value>
			<value>%JAVA_OPTIONS%</value>
		</setenv>
		<comment message=" Set JAVA_VM to the java virtual machine you want to run.  For instance:"/>
		<comment message=" set JAVA_VM=-server"/>
		<setenv name="JAVA_VM">
			<value></value>
		</setenv>
		<comment message=" Set SERVER_NAME and ADMIN_URL, they must be specified before starting"/>
		<comment message=" a managed server, detailed information can be found at"/>
		<comment>
			<value preserve="true">@DOCSWEBROOT/e21048/overview.htm</value>
		</comment>
		<marker name="section_marker_4" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%1"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string">
						<operand value="%SERVER_NAME%"/>
						<operand value=""/>
					</test>
					<then>
						<call name="usage" args="%0"/>
						<exit/>
					</then>
				</if>
			</then>
			<else>
				<setenv name="SERVER_NAME">
					<value>%1</value>
				</setenv>
				<shift/>
			</else>
		</if>
		<marker name="section_marker_5" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%1"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string">
						<operand value="%ADMIN_URL%"/>
						<operand value=""/>
					</test>
					<then>
						<call name="usage" args="%0"/>
						<exit/>
					</then>
				</if>
			</then>
			<else>
				<setenv name="ADMIN_URL">
					<value>%1</value>
				</setenv>
				<shift/>
			</else>
		</if>
		<marker name="section_marker_6" type="blockinsert" action="append"/>
		<comment message="Export the admin_url whether the user specified it OR it was sent on the command-line"/>
		<setenv name="ADMIN_URL" scope="global">
			<value>%ADMIN_URL%</value>
		</setenv>
		<setenv name="SERVER_NAME" scope="global">
			<value>%SERVER_NAME%</value>
		</setenv>
		<setenv name="DOMAIN_HOME">
			<value>@USERDOMAIN_HOME</value>
		</setenv>
		<marker name="section_marker_7" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%1"/>
				<operand value=""/>
			</test>
			<then>
				<comment message=" Call Weblogic Server with our default params since the user did not specify any other ones"/>
				<exec name="startWebLogic" type="script">
					<cmd start="%DOMAIN_HOME%\bin\startWebLogic" min="false"/>
					<params>
						<value>nodebug</value>
						<value>noderby</value>
					</params>
				</exec>
			</then>
			<else>
				<comment message=" Call Weblogic Server with the params the user sent in INSTEAD of the defaults"/>
				<blockinsert name="call_startweblogic_win" os="win">
					<for variable="p" list="%*">
						<do>
							<if>
								<test type="string">
									<operand value="%SERVER_NAME_SKIPPED%"/>
									<operand value=""/>
								</test>
								<then>
									<setenv name="SERVER_NAME_SKIPPED">
										<value>true</value>
									</setenv>
								</then>
								<else>
									<if>
										<test type="string">
											<operand value="%URL_SKIPPED%"/>
											<operand value=""/>
										</test>
										<then>
											<setenv name="URL_SKIPPED">
												<value>true</value>
											</setenv>
										</then>
										<else>
											<setenv name="CMD_LINE_ARGS">
												<value>%CMD_LINE_ARGS% %p%</value>
											</setenv>
										</else>
									</if>
								</else>
							</if>
						</do>
					</for>
					<exec name="startWebLogic" type="script">
						<cmd start="%DOMAIN_HOME%\bin\startWebLogic" min="false"/>
						<params>
							<value>%CMD_LINE_ARGS%</value>
						</params>
					</exec>
				</blockinsert>
				<blockinsert name="define_shift_url" os="unix">
					<exec name="startWebLogic" type="script">
						<cmd start="%DOMAIN_HOME%\bin\startWebLogic" min="false"/>
						<params>
							<value>%*</value>
						</params>
					</exec>
				</blockinsert>
			</else>
		</if>
		<marker name="section_marker_8" type="blockinsert" action="append"/>
	</script>
	<script name="stopManagedWebLogic" version="3" path="bin" overwrite="false">
		<function name="usage">
			<echo message="You must have a value for SERVER_NAME either set as an environment variable or the first parameter on the command-line."/>
			<echo message="ADMIN_URL defaults to t3://@SERVER_HOST:@SERVER_PORT if not set as an environment variable or the second command-line parameter."/>
			<echo message="USER_NAME and PASSWORD are required for shutting the server down when running in production mode:"/>
			<echo message="Usage: %1 {SERVER_NAME} {ADMIN_URL} {USER_NAME} {PASSWORD}"/>
			<echo message="for example:"/>
			<echo>
				<value>%1 managedserver1 </value>
				<value preserve="true" mergeprev="true">t3://@SERVER_HOST:@SERVER_PORT weblogic weblogic</value>
			</echo>
		</function>
		<comment>
			<value>*************************************************************************</value>
			<value>This script is used to stop a managed WebLogic Server for the domain in</value>
			<value>the current working directory.  This script reads in the SERVER_NAME and</value>
			<value>ADMIN_URL as positional parameters or will read them from environment variables that are </value>
			<value>set before calling this script. If SERVER_NAME is not sent as a parameter or exists with a value</value>
			<value>as an environment variable the script will EXIT. If the ADMIN_URL value cannot be determined</value>
			<value>by reading a parameter or from the environment a default value will be used.</value>
			<value></value>
			<value>Then this script calls the stopWebLogic script under ${WL_HOME}/server/bin.</value>
			<value></value>
			<value>Other variables that stopWebLogic takes are:</value>
			<value></value>
			<value>WLS_USER       - cleartext user for server shutdown</value>
			<value>WLS_PW         - cleartext password for server shutdown</value>
			<value>JAVA_OPTIONS   - Java command-line options for running the server. (These</value>
			<value>                 will be tagged on to the end of the JAVA_VM)</value>
			<value>JAVA_VM        - The java arg specifying the VM to run.  (i.e. -server, </value>
			<value>                 -hotspot, etc.)</value>
			<value></value>
			<value>For additional information, refer to &quot;Managing Server Startup and Shutdown for Oracle WebLogic Server&quot;</value>
			<value></value>
			<value preserve="true"> (@DOCSWEBROOT/e21048/overview.htm)</value>
			<value></value>
			<value>*************************************************************************</value>
		</comment>
		<marker name="section_marker_1" type="blockinsert" action="append"/>
		<comment message=" Set SERVER_NAME and ADMIN_URL, they must be specified before stopping"/>
		<comment message=" a managed server, detailed information can be found at"/>
		<comment>
			<value preserve="true"> @DOCSWEBROOT/e21048/overview.htm</value>
		</comment>
		<marker name="section_marker_2" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%1"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string">
						<operand value="%SERVER_NAME%"/>
						<operand value=""/>
					</test>
					<then>
						<call name="usage" args="%0"/>
						<exit/>
					</then>
				</if>
			</then>
			<else>
				<setenv name="SERVER_NAME" scope="global">
					<value>%1</value>
				</setenv>
				<shift/>
			</else>
		</if>
		<marker name="section_marker_3" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%1"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string">
						<operand value="%ADMIN_URL%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="ADMIN_URL" scope="global">
							<value preserve="true">t3://@SERVER_HOST:@SERVER_PORT</value>
						</setenv>
					</then>
				</if>
			</then>
			<else>
				<setenv name="ADMIN_URL" scope="global">
					<value>%1</value>
				</setenv>
				<shift/>
			</else>
		</if>
		<marker name="section_marker_4" type="blockinsert" action="append"/>
		<setenv name="DOMAIN_HOME">
			<value>@USERDOMAIN_HOME</value>
		</setenv>
		<marker name="section_marker_5" type="blockinsert" action="append"/>
		<exec name="stopWebLogic" type="script">
			<cmd start="%DOMAIN_HOME%\bin\stopWebLogic" min="false"/>
			<params>
				<value>%1</value>
				<value>%2</value>
			</params>
		</exec>
		<marker name="section_marker_6" type="blockinsert" action="append"/>
	</script>
	<script name="setDomainEnv" version="3" path="bin" scope="global" overwrite="false" unixFileSep="${CLASSPATHSEP}">
		<comment>
			<value>*************************************************************************</value>
			<value>This script is used to setup the needed environment to be able to start Weblogic Server in this domain.</value>
			<value></value>
			<value>This script initializes the following variables before calling commEnv to set other variables:</value>
			<value></value>
			<value>WL_HOME         - The BEA home directory of your WebLogic installation.</value>
			<value>JAVA_VM         - The desired Java VM to use. You can set this environment variable before calling</value>
			<value>                  this script to switch between Sun or BEA or just have the default be set. </value>
			<value>JAVA_HOME       - Location of the version of Java used to start WebLogic</value>
			<value>                  Server. Depends directly on which JAVA_VM value is set by default or by the environment.</value>
			<value>USER_MEM_ARGS   - The variable to override the standard memory arguments</value>
			<value>                  passed to java.</value>
			<value>PRODUCTION_MODE - The variable that determines whether Weblogic Server is started in production mode.</value>
			<value>DOMAIN_PRODUCTION_MODE </value>
			<value>                - The variable that determines whether the workshop related settings like the debugger,</value>
			<value>                  testconsole or iterativedev should be enabled. ONLY settable using the </value>
			<value>                  command-line parameter named production</value>
			<value>                  NOTE: Specifying the production command-line param will force </value>
			<value>                         the server to start in production mode.</value>
			<value>WLS_POLICY_FILE - Java policy file to use. Set this environment variable to specify a policy file.</value>
			<value>                  Otherwise this script will assign a default value.</value>
			<value></value>
			<value>Other variables used in this script include:</value>
			<value>SERVER_NAME     - Name of the weblogic server.</value>
			<value>JAVA_OPTIONS    - Java command-line options for running the server. (These</value>
			<value>                  will be tagged on to the end of the JAVA_VM and</value>
			<value>                  MEM_ARGS)</value>
			<value>PROXY_SETTINGS  - These are tagged on to the end of the JAVA_OPTIONS. This variable is deprecated and should not</value>
			<value>                  be used. Instead use JAVA_OPTIONS</value>
			<value></value>
			<value>For additional information, refer to &quot;Managing Server Startup and Shutdown for Oracle WebLogic Server&quot;</value>
			<value preserve="true">(@DOCSWEBROOT/e21048/overview.htm).</value>
			<value>*************************************************************************</value>
		</comment>
		<marker name="section_marker_1" type="blockinsert" action="append"/>
		<setenv name="WL_HOME" shorten="true" scope="global">
			<value>@WL_HOME</value>
		</setenv>
		<marker name="productDirBlock" type="blockinsert" action="append"/>
		<setenv name="BEA_JAVA_HOME">
			<value>@BEA_JAVA_HOME</value>
		</setenv>
		<setenv name="DEFAULT_BEA_JAVA_HOME">
			<value>@BEA_JAVA_HOME</value>
		</setenv>
		<setenv name="SUN_JAVA_HOME">
			<value>@SUN_JAVA_HOME</value>
		</setenv>
		<setenv name="DEFAULT_SUN_JAVA_HOME">
			<value>@SUN_JAVA_HOME</value>
		</setenv>
		<marker name="section_marker_2" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%SUN_JAVA_HOME%"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="SUN_JAVA_HOME" scope="global">
					<value>@DEFAULT_SUN_JAVA_HOME</value>
				</setenv>
			</then>
		</if>
		<if>
			<test type="string">
				<operand value="%BEA_JAVA_HOME%"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="BEA_JAVA_HOME" scope="global">
					<value>@DEFAULT_BEA_JAVA_HOME</value>
				</setenv>
			</then>
		</if>
		<if>
			<test type="string">
				<operand value="%VM_TYPE%"/>
				<operand value="JRockit"/>
			</test>
			<then>
				<setenv name="JAVA_HOME">
					<value>%BEA_JAVA_HOME%</value>
				</setenv>
			</then>
			<else>
				<if>
					<test type="string">
						<operand value="%JAVA_VENDOR%"/>
						<operand value="Sun"/>
					</test>
					<then>
						<setenv name="JAVA_HOME">
							<value>%SUN_JAVA_HOME%</value>
						</setenv>
					</then>
					<else>
						<setenv name="JAVA_VENDOR" scope="global">
							<value>@JAVA_VENDOR</value>
						</setenv>
						<setenv name="JAVA_HOME">
							<value>@JAVA_HOME</value>
						</setenv>
						<setenv name="VM_TYPE">
							<value>@VM_TYPE</value>
						</setenv>
					</else>
				</if>
			</else>
		</if>
		<marker name="section_marker_3" type="blockinsert" action="append"/>
		<comment>
			<value>We need to reset the value of JAVA_HOME to get it shortened AND </value>
			<value>we can not shorten it above because immediate variable expansion will blank it</value>
		</comment>
		<setenv name="JAVA_HOME" shorten="true">
			<value>%JAVA_HOME%</value>
		</setenv>
		<setenv name="SAMPLES_HOME" scope="global">
			<value>%WL_HOME%\samples</value>
		</setenv>
		<setenv name="DOMAIN_HOME" shorten="true" scope="global">
			<value>@USERDOMAIN_HOME</value>
		</setenv>
		<setenv name="LONG_DOMAIN_HOME">
			<value>@USERDOMAIN_HOME</value>
		</setenv>
		<marker name="section_marker_4" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%DEBUG_PORT%"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="DEBUG_PORT" scope="global">
					<value>8453</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_5" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%SERVER_NAME%"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="SERVER_NAME" scope="global">
					<value>@SERVER_NAME</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_6" type="blockinsert" action="append"/>
		<marker name="debugFlag" type="setenv" action="replace"/>
		<marker name="section_marker_6A" type="blockinsert" action="append"/>
		<comment message="Set DERBY_FLAG, if derby is available."/>
		<if>
			<test type="file">
				<operand value="%WL_HOME%/common/derby/lib/derby.jar"/>
			</test>
			<then>
				<setenv name="DERBY_FLAG" scope="global">
					<value>true</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_7" type="blockinsert" action="append"/>
		<setenv name="enableHotswapFlag" scope="global">
			<value></value>
		</setenv>
		<comment/>
		<setenv name="PRODUCTION_MODE">
			<value>@PRODUCTION_MODE</value>
		</setenv>
		<marker name="section_marker_8" type="blockinsert" action="append"/>
		<parseargs>
			<arg name="debugFlag" switch="nodebug">
				<setenv name="debugFlag" scope="global">
					<value>false</value>
				</setenv>
			</arg>
			<arg name="DOMAIN_PRODUCTION_MODE" switch="production">
				<setenv name="DOMAIN_PRODUCTION_MODE">
					<value>true</value>
				</setenv>
			</arg>
			<arg name="DERBY_FLAG" switch="noderby">
				<setenv name="DERBY_FLAG" scope="global">
					<value>false</value>
				</setenv>
			</arg>
			<arg name="doExitFlag" switch="doExit" default="false">
				<setenv name="doExitFlag" scope="global">
					<value>true</value>
				</setenv>
			</arg>
			<arg name="doIgnoreExitFlag" switch="noExit">
				<setenv name="doExitFlag" scope="global">
					<value>false</value>
				</setenv>
			</arg>
			<arg name="verboseLoggingFlag" switch="verbose" default="false">
				<setenv name="verboseLoggingFlag" scope="global">
					<value>true</value>
				</setenv>
			</arg>
			<arg name="enableHotswapFlag" switch="enableHotswap">
				<setenv name="enableHotswapFlag" scope="global">
					<value>-javaagent:%WL_HOME%/server/lib/diagnostics-agent.jar</value>
				</setenv>
			</arg>
			<arg name="null" switch="*">
				<setenv name="PROXY_SETTINGS" scope="global">
					<value>%PROXY_SETTINGS% %1</value>
				</setenv>
			</arg>
		</parseargs>
		<marker name="section_marker_9" type="blockinsert" action="append"/>
		<setenv name="MEM_DEV_ARGS" scope="global">
			<value></value>
		</setenv>
		<comment/>
		<if>
			<test type="string">
				<operand value="%DOMAIN_PRODUCTION_MODE%"/>
				<operand value="true"/>
			</test>
			<then>
				<setenv name="PRODUCTION_MODE" scope="global">
					<value>%DOMAIN_PRODUCTION_MODE%</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_10" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%PRODUCTION_MODE%"/>
				<operand value="true"/>
			</test>
			<then>
				<setenv name="debugFlag" scope="global">
					<value>false</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_11" type="blockinsert" action="append"/>
		<comment>
			<value>If you want to override the default Patch Classpath, Library Path and Path for this domain,</value>
			<value>Please uncomment the following lines and add a valid value for the environment variables</value>
			<value>set PATCH_CLASSPATH=[myPatchClasspath] (windows)</value>
			<value>set PATCH_LIBPATH=[myPatchLibpath] (windows)</value>
			<value>set PATCH_PATH=[myPatchPath] (windows)</value>
			<value>PATCH_CLASSPATH=[myPatchClasspath] (unix)</value>
			<value>PATCH_LIBPATH=[myPatchLibpath] (unix)</value>
			<value>PATCH_PATH=[myPatchPath] (unix)</value>
		</comment>
		<exec name="commEnv" type="script">
			<cmd start="%WL_HOME%\common\bin\commEnv" min="false" source="true"/>
		</exec>
		<marker name="section_marker_12" type="blockinsert" action="append"/>
		<setenv name="WLS_HOME">
			<value>%WL_HOME%\server</value>
		</setenv>
		<marker name="section_marker_13" type="blockinsert" action="append"/>
		<setenv name="WLS_MEM_ARGS_64BIT" scope="global">
			<value>-Xms512m -Xmx512m</value>
		</setenv>
		<setenv name="WLS_MEM_ARGS_32BIT" scope="global">
			<value>-Xms512m -Xmx512m</value>
		</setenv>
		<if>
			<test type="string" not="true">
				<operand value="%JAVA_VENDOR%"/>
				<operand value="HP"/>
			</test>
			<then>
				<if>
					<test type="string">
						<operand value="%VM_TYPE%"/>
						<operand value="HotSpot"/>
					</test>
					<then>
						<setenv name="WLS_MEM_ARGS_64BIT" scope="global">
							<value>-Xms256m -Xmx512m</value>
						</setenv>
						<setenv name="WLS_MEM_ARGS_32BIT" scope="global">
							<value>-Xms256m -Xmx512m</value>
						</setenv>
					</then>
				</if>
			</then>
		</if>
		<marker name="section_marker_13a" type="blockinsert" action="replace"/>
		<marker name="MEM_ARGS_64BIT" type="setenv" action="replace"/>
		<setenv name="MEM_ARGS_64BIT" scope="global">
			<value>%WLS_MEM_ARGS_64BIT%</value>
		</setenv>
		<marker name="MEM_ARGS_32BIT" type="setenv" action="replace"/>
		<setenv name="MEM_ARGS_32BIT" scope="global">
			<value>%WLS_MEM_ARGS_32BIT%</value>
		</setenv>
		<marker name="section_marker_13b" type="blockinsert" action="replace"/>
		<marker name="MEM_ARGS" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%JAVA_USE_64BIT%"/>
				<operand value="true"/>
			</test>
			<then>
				<setenv name="MEM_ARGS" scope="global">
					<value>%MEM_ARGS_64BIT%</value>
				</setenv>
			</then>
			<else>
				<setenv name="MEM_ARGS" scope="global">
					<value>%MEM_ARGS_32BIT%</value>
				</setenv>
			</else>
		</if>
		<marker name="MEM_PERM_SIZE_64BIT" type="setenv" action="replace"/>
		<setenv name="MEM_PERM_SIZE_64BIT" scope="global">
			<value>-XX:PermSize=128m</value>
		</setenv>
		<marker name="MEM_PERM_SIZE_32BIT" type="setenv" action="replace"/>
		<setenv name="MEM_PERM_SIZE_32BIT" scope="global">
			<value>-XX:PermSize=128m</value>
		</setenv>
		<marker name="section_marker_13c" type="blockinsert" action="replace"/>
		<marker name="MEM_PERM_SIZE" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%JAVA_USE_64BIT%"/>
				<operand value="true"/>
			</test>
			<then>
				<setenv name="MEM_PERM_SIZE" scope="global">
					<value>%MEM_PERM_SIZE_64BIT%</value>
				</setenv>
			</then>
			<else>
				<setenv name="MEM_PERM_SIZE" scope="global">
					<value>%MEM_PERM_SIZE_32BIT%</value>
				</setenv>
			</else>
		</if>
		<marker name="MEM_MAX_PERM_SIZE_64BIT" type="setenv" action="replace"/>
		<setenv name="MEM_MAX_PERM_SIZE_64BIT" scope="global">
			<value>-XX:MaxPermSize=256m</value>
		</setenv>
		<marker name="MEM_MAX_PERM_SIZE_32BIT" type="setenv" action="replace"/>
		<setenv name="MEM_MAX_PERM_SIZE_32BIT" scope="global">
			<value>-XX:MaxPermSize=256m</value>
		</setenv>
		<marker name="section_marker_13d" type="blockinsert" action="replace"/>
		<marker name="MEM_MAX_PERM_SIZE" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%JAVA_USE_64BIT%"/>
				<operand value="true"/>
			</test>
			<then>
				<setenv name="MEM_MAX_PERM_SIZE" scope="global">
					<value>%MEM_MAX_PERM_SIZE_64BIT%</value>
				</setenv>
			</then>
			<else>
				<setenv name="MEM_MAX_PERM_SIZE" scope="global">
					<value>%MEM_MAX_PERM_SIZE_32BIT%</value>
				</setenv>
			</else>
		</if>
		<marker name="section_marker_14" type="blockinsert" action="append"/>
		<if>
			<test type="string" not="true">
				<operand value="%JAVA_VENDOR%"/>
				<operand value="HP"/>
			</test>
			<then>
				<if>
					<test type="string">
						<operand value="%VM_TYPE%"/>
						<operand value="HotSpot"/>
					</test>
					<then>
						<if>
							<test type="string">
								<operand value="%PRODUCTION_MODE%"/>
								<operand value=""/>
							</test>
							<then>
								<setenv name="MEM_DEV_ARGS" scope="global">
									<value>-XX:CompileThreshold=8000 %MEM_PERM_SIZE% </value>
								</setenv>
							</then>
						</if>
					</then>
				</if>
			</then>
		</if>
		<marker name="section_marker_15" type="blockinsert" action="append"/>
		<comment message="Had to have a separate test here BECAUSE of immediate variable expansion on windows"/>
		<if>
			<test type="string" not="true">
				<operand value="%JAVA_VENDOR%"/>
				<operand value="HP"/>
			</test>
			<then>
				<if>
					<test type="string">
						<operand value="%VM_TYPE%"/>
						<operand value="HotSpot"/>
					</test>
					<then>
						<setenv name="MEM_ARGS" scope="global">
							<value>%MEM_ARGS% %MEM_DEV_ARGS% %MEM_MAX_PERM_SIZE%</value>
						</setenv>
					</then>
				</if>
			</then>
		</if>
		<marker name="section_marker_16" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%JAVA_VENDOR%"/>
				<operand value="HP"/>
			</test>
			<then>
				<setenv name="MEM_ARGS" scope="global">
					<value>%MEM_ARGS% %MEM_MAX_PERM_SIZE%</value>
				</setenv>
			</then>
		</if>
		<if>
			<test type="string">
				<operand value="%JAVA_VENDOR%"/>
				<operand value="Apple"/>
			</test>
			<then>
				<setenv name="MEM_ARGS" scope="global">
					<value>%MEM_ARGS% %MEM_MAX_PERM_SIZE%</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_17" type="blockinsert" action="append"/>
		<marker name="section_marker_17a" type="blockinsert" action="append"/>
		<comment message="Set server startup configuration, if available."/>
		<if>
			<test type="file" winScriptExt=".cmd" unixScriptExt=".sh">
				<operand value="%DOMAIN_HOME%/bin/setStartupEnv"/>
			</test>
			<then>
				<exec name="setStartupEnv" type="script">
					<cmd start="%DOMAIN_HOME%/bin/setStartupEnv" min="false" source="true"/>
				</exec>
			</then>
		</if>
		<marker name="section_marker_17b" type="blockinsert" action="append"/>
		<comment message="Set user overrides, if available."/>
		<if>
			<test type="file" winScriptExt=".cmd" unixScriptExt=".sh">
				<operand value="%DOMAIN_HOME%/bin/setUserOverrides"/>
			</test>
			<then>
				<exec name="setUserOverrides" type="script">
					<cmd start="%DOMAIN_HOME%/bin/setUserOverrides" min="false" source="true"/>
				</exec>
			</then>
		</if>
		<marker name="section_marker_17c" type="blockinsert" action="append"/>
		<comment message="IF USER_MEM_ARGS the environment variable is set, use it to override ALL MEM_ARGS values"/>
		<if>
			<test type="string" not="true">
				<operand value="%USER_MEM_ARGS%"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="MEM_ARGS" scope="global">
					<value>%USER_MEM_ARGS%</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_18" type="blockinsert" action="append"/>
		<setenv name="JAVA_PROPERTIES" scope="global">
			<value>-Dwls.home=%WLS_HOME% -Dweblogic.home=%WLS_HOME% </value>
		</setenv>
		<marker name="section_marker_19" type="blockinsert" action="append"/>
		<marker name="section_marker_19a" type="blockinsert" action="append"/>
		<comment>
			<value> To use Java Authorization Contract for Containers (JACC) in this domain, </value>
			<value> please uncomment the following section. If there are multiple machines in </value>
			<value> your domain, be sure to edit the setDomainEnv in the associated domain on </value>
			<value> each machine.</value>
			<value></value>
			<value>-Djava.security.manager</value>
			<value>-Djava.security.policy=location of weblogic.policy</value>
			<value>-Djavax.security.jacc.policy.provider=weblogic.security.jacc.simpleprovider.SimpleJACCPolicy</value>
			<value>-Djavax.security.jacc.PolicyConfigurationFactory.provider=weblogic.security.jacc.simpleprovider.PolicyConfigurationFactoryImpl</value>
			<value>-Dweblogic.security.jacc.RoleMapperFactory.provider=weblogic.security.jacc.simpleprovider.RoleMapperFactoryImpl</value>
		</comment>
		<marker name="section_marker_19b" type="blockinsert" action="append"/>
		<marker name="EXTRA_JAVA_PROPERTIES" type="setenv" action="insert"/>
		<setenv name="JAVA_PROPERTIES" scope="global">
			<value>%JAVA_PROPERTIES% %EXTRA_JAVA_PROPERTIES%</value>
		</setenv>
		<setenv name="ARDIR">
			<value>%WL_HOME%\server\lib</value>
		</setenv>
		<marker name="section_marker_20" type="blockinsert" action="append"/>
		<pushd path="%LONG_DOMAIN_HOME%"/>
		<comment message="Clustering support (edit for your cluster!)"/>
		<if>
			<test type="string">
				<operand value="%ADMIN_URL%"/>
				<operand value=""/>
			</test>
			<then>
				<comment message="The then part of this block is telling us we are either starting an admin server OR we are non-clustered"/>
				<setenv name="CLUSTER_PROPERTIES" scope="global">
					<value></value>
				</setenv>
			</then>
			<else>
				<setenv name="CLUSTER_PROPERTIES" scope="global">
					<value>-Dweblogic.management.server=%ADMIN_URL%</value>
				</setenv>
			</else>
		</if>
		<marker name="section_marker_21" type="blockinsert" action="append"/>
		<marker name="LOG4J_CONFIG_FILE" type="setenv" action="insert"/>
		<if>
			<test type="string" not="true">
				<operand value="%LOG4J_CONFIG_FILE%"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="JAVA_PROPERTIES">
					<value>%JAVA_PROPERTIES% -Dlog4j.configuration=file:%LOG4J_CONFIG_FILE%</value>
				</setenv>
			</then>
		</if>
		<setenv name="JAVA_PROPERTIES" scope="global">
			<value>%JAVA_PROPERTIES% %CLUSTER_PROPERTIES%</value>
		</setenv>
		<marker name="section_marker_21" type="blockinsert" action="append"/>
		<marker name="PRE_CLASSPATH" type="setenv" action="insert"/>
		<setenv name="JAVA_DEBUG" scope="global">
		</setenv>
		<marker name="section_marker_22" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%debugFlag%"/>
				<operand value="true"/>
			</test>
			<then>
				<setenv name="JAVA_DEBUG" scope="global">
					<value>-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,address=%DEBUG_PORT%,server=y,suspend=n -Djava.compiler=NONE</value>
				</setenv>
				<setenv name="JAVA_OPTIONS" scope="global">
					<value>%JAVA_OPTIONS% %enableHotswapFlag% -ea -da:com.bea... -da:javelin... -da:weblogic... -ea:com.bea.wli... -ea:com.bea.broker... -ea:com.bea.sbconsole...</value>
				</setenv>
			</then>
			<else>
				<setenv name="JAVA_OPTIONS" scope="global">
					<value>%JAVA_OPTIONS% %enableHotswapFlag% -da</value>
				</setenv>
			</else>
		</if>
		<marker name="section_marker_23" type="blockinsert" action="append"/>
		<if>
			<test type="directory" not="true">
				<operand value="%JAVA_HOME%\lib"/>
			</test>
			<then>
				<echo>
					<value>The JRE was not found in directory %JAVA_HOME%. (JAVA_HOME)</value>
					<value>Please edit your environment and set the JAVA_HOME</value>
					<value>variable to point to the root directory of your Java installation.</value>
				</echo>
				<popd/>
				<pause/>
				<exit/>
			</then>
		</if>
		<marker name="section_marker_24" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%DERBY_FLAG%"/>
				<operand value="true"/>
			</test>
			<then>
				<setenv name="DATABASE_CLASSPATH">
					<value>%DERBY_CLASSPATH%</value>
				</setenv>
			</then>
			<else>
				<setenv name="DATABASE_CLASSPATH">
					<value>%DERBY_CLIENT_CLASSPATH%</value>
				</setenv>
			</else>
		</if>
		<marker name="section_marker_25" type="blockinsert" action="append"/>
		<marker name="POST_CLASSPATH" type="setenv" action="insert"/>
		<if>
			<test type="string" not="true">
				<operand value="%DATABASE_CLASSPATH%"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string" not="true">
						<operand value="%POST_CLASSPATH%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="POST_CLASSPATH" filterEmptyVal="true">
							<value>%POST_CLASSPATH%</value>
							<value>%DATABASE_CLASSPATH%</value>
						</setenv>
					</then>
					<else>
						<setenv name="POST_CLASSPATH" filterEmptyVal="true">
							<value>%DATABASE_CLASSPATH%</value>
						</setenv>
					</else>
				</if>
			</then>
		</if>
		<if>
			<test type="string" not="true">
				<operand value="%ARDIR%"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string" not="true">
						<operand value="%POST_CLASSPATH%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="POST_CLASSPATH" filterEmptyVal="true">
							<value>%POST_CLASSPATH%</value>
							<value>%ARDIR%\xqrl.jar</value>
						</setenv>
					</then>
					<else>
						<setenv name="POST_CLASSPATH" filterEmptyVal="true">
							<value>%ARDIR%\xqrl.jar</value>
						</setenv>
					</else>
				</if>
			</then>
		</if>
		<marker name="section_marker_26" type="blockinsert" action="append"/>
		<comment message="PROFILING SUPPORT"/>
		<setenv name="JAVA_PROFILE">
		</setenv>
		<setenv name="SERVER_CLASS" scope="global">
			<value>weblogic.Server</value>
		</setenv>
		<marker name="WLP_HOME" type="setenv" action="insert"/>
		<marker name="P13N_HOME" type="setenv" action="insert"/>
		<marker name="WLP_POST_CLASSPATH" type="setenv" action="insert"/>
		<marker name="HARMONY_PORTLETS_PROPERTIES" type="setenv" action="insert"/>
		<marker name="WLP_JAVA_PROPERTIES" type="setenv" action="insert"/>
		<setenv name="JAVA_PROPERTIES" scope="global">
			<value>%JAVA_PROPERTIES% %WLP_JAVA_PROPERTIES%</value>
		</setenv>
		<marker name="LD_callSetEnv" type="exec" action="insert"/>
		<setenv name="JAVA_OPTIONS">
			<value>%JAVA_OPTIONS% %JAVA_PROPERTIES%</value>
		</setenv>
		<if>
			<test type="string">
				<operand value="%PRODUCTION_MODE%"/>
				<operand value="true"/>
			</test>
			<then>
				<setenv name="JAVA_OPTIONS" scope="global">
					<value> -Dweblogic.ProductionModeEnabled=true %JAVA_OPTIONS%</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_27" type="blockinsert" action="append"/>
		<comment message="-- Setup properties so that we can save stdout and stderr to files"/>
		<if>
			<test type="string" not="true">
				<operand value="%WLS_STDOUT_LOG%"/>
				<operand value=""/>
			</test>
			<then>
				<echo message="Logging WLS stdout to %WLS_STDOUT_LOG%"/>
				<setenv name="JAVA_OPTIONS">
					<value>%JAVA_OPTIONS% -Dweblogic.Stdout=%WLS_STDOUT_LOG%</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_28" type="blockinsert" action="append"/>
		<if>
			<test type="string" not="true">
				<operand value="%WLS_STDERR_LOG%"/>
				<operand value=""/>
			</test>
			<then>
				<echo message="Logging WLS stderr to %WLS_STDERR_LOG%"/>
				<setenv name="JAVA_OPTIONS">
					<value>%JAVA_OPTIONS% -Dweblogic.Stderr=%WLS_STDERR_LOG%</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_29" type="blockinsert" action="append"/>
		<comment message="ADD EXTENSIONS TO CLASSPATHS"/>
		<if>
			<test type="string" not="true">
				<operand value="%EXT_PRE_CLASSPATH%"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string" not="true">
						<operand value="%PRE_CLASSPATH%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="PRE_CLASSPATH" filterEmptyVal="true">
							<value>%EXT_PRE_CLASSPATH%</value>
							<value>%PRE_CLASSPATH%</value>
						</setenv>
					</then>
					<else>
						<setenv name="PRE_CLASSPATH" filterEmptyVal="true">
							<value>%EXT_PRE_CLASSPATH%</value>
						</setenv>
					</else>
				</if>
			</then>
		</if>
		<marker name="section_marker_30" type="blockinsert" action="append"/>
		<if>
			<test type="string" not="true">
				<operand value="%EXT_POST_CLASSPATH%"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string" not="true">
						<operand value="%POST_CLASSPATH%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="POST_CLASSPATH" filterEmptyVal="true">
							<value>%POST_CLASSPATH%</value>
							<value>%EXT_POST_CLASSPATH%</value>
						</setenv>
					</then>
					<else>
						<setenv name="POST_CLASSPATH" filterEmptyVal="true">
							<value>%EXT_POST_CLASSPATH%</value>
						</setenv>
					</else>
				</if>
			</then>
		</if>
		<marker name="section_marker_31" type="blockinsert" action="append"/>
		<marker name="WEBLOGIC_EXTENSION_DIRS" type="setenv" action="insert"/>
		<if>
			<test type="string" not="true">
				<operand value="%WEBLOGIC_EXTENSION_DIRS%"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="JAVA_OPTIONS">
					<value>%JAVA_OPTIONS% -Dweblogic.ext.dirs=%WEBLOGIC_EXTENSION_DIRS%</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_32" type="blockinsert" action="append"/>
		<setenv name="JAVA_OPTIONS" scope="global">
			<value>%JAVA_OPTIONS%</value>
		</setenv>
		<marker name="section_marker_33" type="blockinsert" action="append"/>
		<comment message="SET THE CLASSPATH"/>
		<if>
			<test type="string" not="true">
				<operand value="%WLP_POST_CLASSPATH%"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string" not="true">
						<operand value="%CLASSPATH%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="CLASSPATH" filterEmptyVal="true">
							<value>%WLP_POST_CLASSPATH%</value>
							<value>%CLASSPATH%</value>
						</setenv>
					</then>
					<else>
						<setenv name="CLASSPATH" filterEmptyVal="true">
							<value>%WLP_POST_CLASSPATH%</value>
						</setenv>
					</else>
				</if>
			</then>
		</if>
		<if>
			<test type="string" not="true">
				<operand value="%POST_CLASSPATH%"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string" not="true">
						<operand value="%CLASSPATH%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="CLASSPATH" filterEmptyVal="true">
							<value>%POST_CLASSPATH%</value>
							<value>%CLASSPATH%</value>
						</setenv>
					</then>
					<else>
						<setenv name="CLASSPATH" filterEmptyVal="true">
							<value>%POST_CLASSPATH%</value>
						</setenv>
					</else>
				</if>
			</then>
		</if>
		<if>
			<test type="string" not="true">
				<operand value="%WEBLOGIC_CLASSPATH%"/>
				<operand value=""/>
			</test>
			<then>
				<if>
					<test type="string" not="true">
						<operand value="%CLASSPATH%"/>
						<operand value=""/>
					</test>
					<then>
						<setenv name="CLASSPATH" filterEmptyVal="true">
							<value>%WEBLOGIC_CLASSPATH%</value>
							<value>%CLASSPATH%</value>
						</setenv>
					</then>
					<else>
						<setenv name="CLASSPATH" filterEmptyVal="true">
							<value>%WEBLOGIC_CLASSPATH%</value>
						</setenv>
					</else>
				</if>
			</then>
		</if>
		<if>
			<test type="string" not="true">
				<operand value="%PRE_CLASSPATH%"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="CLASSPATH" filterEmptyVal="true">
					<value>%PRE_CLASSPATH%</value>
					<value>%CLASSPATH%</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_34" type="blockinsert" action="append"/>
		<if>
			<test type="string" not="true">
				<operand value="%VM_TYPE%"/>
				<operand value="JRockit"/>
			</test>
			<then>
				<setenv name="JAVA_VM" scope="global">
					<value>%JAVA_VM% %JAVA_DEBUG% %JAVA_PROFILE%</value>
				</setenv>
			</then>
			<else>
				<setenv name="JAVA_VM" scope="global">
					<value>%JAVA_VM% %JAVA_DEBUG% %JAVA_PROFILE%</value>
				</setenv>
			</else>
		</if>
		<marker name="section_marker_35" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%WLS_POLICY_FILE%"/>
				<operand value=""/>
			</test>
			<then>
				<setenv name="WLS_POLICY_FILE">
					<value>%WL_HOME%\server\lib\weblogic.policy</value>
				</setenv>
			</then>
		</if>
		<marker name="section_marker_36" type="blockinsert" action="append"/>
	</script>
	<script name="startComponent" version="3" path="bin" overwrite="false" unixFileSep="${CLASSPATHSEP}">
		<function name="usage">
			<echo message="Usage: %1 COMPONENT_NAME {storeUserConfig} {showErrorStack}"/>
			<echo message="Where:"/>
			<echo message="  COMPONENT_NAME  - Required. System Component name"/>
			<echo message="  storeUserConfig - Optional. If provided, save the user config into a key file if the file does not exist. "/>
			<echo message="  showErrorStack  - Optional. Show error stack if provided."/>
		</function>
		<marker name="section_marker_1" type="blockinsert" action="append"/>
		<marker name="section_marker_2" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%1"/>
				<operand value=""/>
			</test>
			<then>
				<call name="usage" args="%0"/>
				<exit/>
			</then>
			<else>
				<setenv name="componentName" scope="global">
					<value>%1</value>
				</setenv>
				<shift/>
			</else>
		</if>
		<marker name="section_marker_3" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%1"/>
				<operand value="storeUserConfig"/>
			</test>
			<then>
				<setenv name="storeUserConfig" scope="global">
					<value>true</value>
				</setenv>
				<shift/>
			</then>
			<else>
				<setenv name="storeUserConfig" scope="global">
					<value>false</value>
				</setenv>
			</else>
		</if>
		<marker name="section_marker_4" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%1"/>
				<operand value="showErrorStack"/>
			</test>
			<then>
				<setenv name="showErrorStack" scope="global">
					<value>true</value>
				</setenv>
			</then>
			<else>
				<setenv name="showErrorStack" scope="global">
					<value>false</value>
				</setenv>
			</else>
		</if>
		<marker name="section_marker_5" type="blockinsert" action="append"/>
		<setenv name="WL_HOME" shorten="true">
			<value>@WL_HOME</value>
		</setenv>
		<setenv name="DOMAIN_HOME">
			<value preserve="true">@USERDOMAIN_HOME</value>
		</setenv>
		<setenv name="PY_LOC">
			<value>${DOMAIN_HOME}\bin\startComponent.py</value>
		</setenv>
		<blockinsert name="umask_section" os="unix">
			<exec name="umask" type="program">
				<cmd start="umask 027" min="false"/>
			</exec>
		</blockinsert>
		<marker name="section_marker_6" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%showErrorStack%"/>
				<operand value="false"/>
			</test>
			<then>
				<echo>
					<value>try:</value>
					<value>  startComponentInternal(&#039;${componentName}&#039;, r&#039;${DOMAIN_HOME}&#039;, &#039;${storeUserConfig}&#039;)</value>
					<value>  exit()</value>
					<value>except Exception,e:</value>
					<value>  print &#039;Error:&#039;, sys.exc_info()[1]</value>
					<value>  exit()</value>
					<redirect file="${PY_LOC}"/>
				</echo>
			</then>
			<else>
				<echo>
					<value>startComponentInternal(&#039;${componentName}&#039;, r&#039;${DOMAIN_HOME}&#039;, &#039;${storeUserConfig}&#039;)</value>
					<value>exit()</value>
					<redirect file="${PY_LOC}"/>
				</echo>
			</else>
		</if>
		<marker name="section_marker_7" type="blockinsert" action="append"/>
		<echo message="Starting system Component ${componentName} ..."/>
		<if>
			<test type="file" winScriptExt=".cmd" unixScriptExt=".sh">
				<operand value="%WL_HOME%\..\oracle_common\common\bin\cam_wlst"/>
			</test>
			<then>
				<comment message="Start standalone WLST if in standalone CAM environment."/>
				<exec name="Starting standalone WLST ..." type="script">
					<cmd start="%WL_HOME%\..\oracle_common\common\bin\cam_wlst" min="false"/>
					<params>
						<value>-i</value>
					</params>
					<params type="post">
						<value>${PY_LOC}</value>
					</params>
					<redirect tostream="1" fromstream="2"/>
				</exec>
			</then>
			<else>
				<comment message="Start WLST."/>
				<exec name="Starting WLST ..." type="script">
					<cmd start="%WL_HOME%\..\oracle_common\common\bin\wlst" min="false"/>
					<params>
						<value>-i</value>
					</params>
					<params type="post">
						<value>${PY_LOC}</value>
					</params>
					<redirect tostream="1" fromstream="2"/>
				</exec>
			</else>
		</if>
		<marker name="section_marker_8" type="blockinsert" action="append"/>
		<if>
			<test type="file">
				<operand value="${PY_LOC}"/>
			</test>
			<then>
				<exec name="Deleting the generated py script..." type="program">
					<cmd start="rm -f ${PY_LOC}" min="false"/>
				</exec>
			</then>
		</if>
		<echo message="Done"/>
		<exit/>
	</script>
	<script name="stopComponent" version="3" path="bin" overwrite="false" unixFileSep="${CLASSPATHSEP}">
		<function name="usage">
			<echo message="Usage: %1 COMPONENT_NAME {showErrorStack}"/>
			<echo message="Where:"/>
			<echo message="  COMPONENT_NAME - Required. System Component name"/>
			<echo message="  showErrorStack - Optional. Show error stack if provided."/>
		</function>
		<marker name="section_marker_1" type="blockinsert" action="append"/>
		<marker name="section_marker_2" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%1"/>
				<operand value=""/>
			</test>
			<then>
				<call name="usage" args="%0"/>
				<exit/>
			</then>
			<else>
				<setenv name="componentName" scope="global">
					<value>%1</value>
				</setenv>
				<shift/>
			</else>
		</if>
		<marker name="section_marker_3" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%1"/>
				<operand value="showErrorStack"/>
			</test>
			<then>
				<setenv name="showErrorStack" scope="global">
					<value>true</value>
				</setenv>
			</then>
			<else>
				<setenv name="showErrorStack" scope="global">
					<value>false</value>
				</setenv>
			</else>
		</if>
		<marker name="section_marker_4" type="blockinsert" action="append"/>
		<setenv name="WL_HOME" shorten="true">
			<value>@WL_HOME</value>
		</setenv>
		<setenv name="DOMAIN_HOME">
			<value preserve="true">@USERDOMAIN_HOME</value>
		</setenv>
		<setenv name="PY_LOC">
			<value>${DOMAIN_HOME}\bin\stopComponent.py</value>
		</setenv>
		<blockinsert name="umask_section" os="unix">
			<exec name="umask" type="program">
				<cmd start="umask 027" min="false"/>
			</exec>
		</blockinsert>
		<marker name="section_marker_5" type="blockinsert" action="append"/>
		<if>
			<test type="string">
				<operand value="%showErrorStack%"/>
				<operand value="false"/>
			</test>
			<then>
				<echo>
					<value>try:</value>
					<value>  stopComponentInternal(&#039;${componentName}&#039;, r&#039;${DOMAIN_HOME}&#039;)</value>
					<value>  exit()</value>
					<value>except Exception,e:</value>
					<value>  print &#039;Error:&#039;, sys.exc_info()[1]</value>
					<value>  exit()</value>
					<redirect file="${PY_LOC}"/>
				</echo>
			</then>
			<else>
				<echo>
					<value>stopComponentInternal(&#039;${componentName}&#039;, r&#039;${DOMAIN_HOME}&#039;)</value>
					<value>exit()</value>
					<redirect file="${PY_LOC}"/>
				</echo>
			</else>
		</if>
		<marker name="section_marker_6" type="blockinsert" action="append"/>
		<echo message="Stopping System Component ${componentName} ..."/>
		<if>
			<test type="file" winScriptExt=".cmd" unixScriptExt=".sh">
				<operand value="%WL_HOME%\..\oracle_common\common\bin\cam_wlst"/>
			</test>
			<then>
				<comment message="Using standalone WLST if in standalone CAM environment."/>
				<exec name="Starting standalone WLST ..." type="script">
					<cmd start="%WL_HOME%\..\oracle_common\common\bin\cam_wlst" min="false"/>
					<params>
						<value>-i</value>
					</params>
					<params type="post">
						<value>${PY_LOC}</value>
					</params>
					<redirect tostream="1" fromstream="2"/>
				</exec>
			</then>
			<else>
				<comment message="Using WLST..."/>
				<exec name="Starting wlst ..." type="script">
					<cmd start="%WL_HOME%\..\oracle_common\common\bin\wlst" min="false"/>
					<params>
						<value>-i</value>
					</params>
					<params type="post">
						<value>${PY_LOC}</value>
					</params>
					<redirect tostream="1" fromstream="2"/>
				</exec>
			</else>
		</if>
		<marker name="section_marker_7" type="blockinsert" action="append"/>
		<if>
			<test type="file">
				<operand value="${PY_LOC}"/>
			</test>
			<then>
				<exec name="Deleting the generated py script..." type="program">
					<cmd start="rm -f ${PY_LOC}" min="false"/>
				</exec>
			</then>
		</if>
		<echo message="Done"/>
		<exit/>
	</script>
</scripts>
